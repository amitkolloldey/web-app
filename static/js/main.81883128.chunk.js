(this.webpackJsonpstitch_web=this.webpackJsonpstitch_web||[]).push([[0],{173:function(e,t,s){},180:function(e,t,s){},334:function(e,t){},335:function(e,t){},336:function(e,t){},337:function(e,t){},338:function(e,t){},367:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),a=s(34),n=s.n(a),i=s(97);window.jQuery=window.$=i;var l=s(98);window.Popper=l.default;s(171),s(172),s(173);var o=s(6),d=s(0),j=function(){return Object(d.jsx)("header",{children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12 text-right",children:Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("img",{src:"/logo.svg",alt:"Stitch"})})})})})})},u=function(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)("p",{className:"copyright",children:"Developed By Redorange"})}),Object(d.jsx)("div",{className:"col-md-6 text-right",children:Object(d.jsx)("div",{className:"partners",children:Object(d.jsx)("img",{src:"/partners.png",alt:"Partners Logo"})})})]})})},m=s(7),b=(s(180),Object(m.b)((function(e){return{isLoading:e.loading}}))((function(e){var t=e.isLoading;return Object(d.jsx)("div",{children:t?Object(d.jsx)("div",{id:"spinner-fade",children:Object(d.jsx)("div",{className:"default-spinner spinner-border",role:"status"})}):null})}))),h=s(3),p=(s(181),"API"),O="SET_USER_INFO",x="TOGGLE_LOADER",f="RESET_USER_INFO",N="UPDATE_USER_INFO",g="SET_ALL_ORGS",v="ADD_ORG",y="REMOVE_ORG",w="UPDATE_ORG",_="SET_SINGLE_ORG",S="SET_ALL_CATEGORIES",C="ADD_CATEGORY",A="REMOVE_CATEGORY",T="UPDATE_CATEGORY",E="REMOVE_COURSE",q="SET_ALL_CHAPTERS",F="SET_SINGLE_CHAPTER",I="UPDATE_CHAPTER",P="SET_ALL_COURSES",k="SET_SINGLE_COURSES",D="SET_ALL_USERS",V="GET_SINGLE_USER",L="SET_CURRENT_USER",R="ADD_COURSE",U="UPDATE_COURSE",M="SET_ALL_REQUESTS",B="REMOVE_REQUEST",G=function(e,t,s){return localStorage.removeItem("CURRENT_USER"),{type:f}},z=function(e){Y(e.id,e);var t={userId:e.id,name:e.name,pic:e.pic,cv:e.cv,token:e.token,role:e.Roles[0].name,isloggedin:!0,verifiedAt:e.verifiedAt,blocked:e.blocked,phone:e.phone,email:e.email,bio:e.bio,address:e.address};return localStorage.setItem("CURRENT_USER",JSON.stringify(t)),{type:O,payload:t}},Q=function(e,t){return{type:p,payload:{method:"GET",url:"users/".concat(e),success:function(t){return K(e,t.data)},postProcessSuccess:t}}},$=function(e,t){return{type:p,payload:{method:"GET",url:"users/".concat(parseInt(e)),success:function(t){return Y(e,t.data)},postProcessSuccess:t}}},Y=function(e,t){return{type:L,payload:{userId:e,data:t}}},K=function(e,t){return{type:V,payload:{userId:e,data:t}}},W=function(e){return{type:"ACCOUNT_CREATED",payload:{success:"Success!"}}};var J=function(e){var t=e.user,s=e.dispatchLogoutAction;return Object(d.jsxs)("div",{className:"left_sidebar",children:[Object(d.jsx)("div",{className:"user_image",children:Object(d.jsxs)(o.a,{to:"/profilepage/"+t.userId,children:[t.pic?Object(d.jsx)("img",{src:t.pic,alt:t.name}):Object(d.jsx)("i",{className:"fas fa-user"}),Object(d.jsx)("p",{className:"user_role",children:t.role}),Object(d.jsx)("h4",{className:"user_name",children:t.name})]})}),Object(d.jsxs)("ul",{className:"main_side_menu",children:[Object(d.jsxs)("li",{className:"search_field_all",children:[Object(d.jsx)("input",{type:"search",placeholder:"Search"}),Object(d.jsx)("i",{className:"fas fa-search"})]}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/orgs",children:[Object(d.jsx)("i",{className:"fas fa-university"})," ",Object(d.jsx)("span",{children:" All Organizations"})]})}),"Organization Admin"===t.role||"Trainer"===t.role?Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/myorgs/"+t.userId,children:[Object(d.jsx)("i",{className:"fas fa-building"})," ",Object(d.jsx)("span",{children:" My Organizations"})]})}):"","Super Admin"===t.role?Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/create_org",children:[Object(d.jsx)("i",{className:"fas fa-plus-circle"}),Object(d.jsx)("span",{children:" Create Organization"})]})}):"",Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/courses",children:[Object(d.jsx)("i",{className:"fas fa-book"})," ",Object(d.jsx)("span",{children:" All Courses"})]})}),"Super Admin"===t.role?Object(d.jsxs)("li",{children:[Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/categories",children:[Object(d.jsx)("i",{className:"fas fa-cubes"})," ",Object(d.jsx)("span",{children:" Categories"})]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/create_category",children:[Object(d.jsx)("i",{className:"fas fa-plus-circle"}),Object(d.jsx)("span",{children:" Create Categories"})]})})]}):"","Super Admin"!==t.role?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/requests",children:[Object(d.jsx)("i",{className:"fas fa-plus-circle"}),Object(d.jsx)("span",{children:" Requests"})]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/mycourses/"+t.userId,children:[Object(d.jsx)("i",{className:"fas fa-book-open"})," ",Object(d.jsx)("span",{children:" My Courses"})]})})]}):"","Super Admin"!==t.role?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsxs)(o.a,{to:"/",children:[Object(d.jsx)("i",{className:"fas fa-envelope"})," ",Object(d.jsx)("span",{children:" Messages"})]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.a,{to:"/",children:[Object(d.jsx)("i",{className:"fas fa-globe"})," ",Object(d.jsx)("span",{children:" Notifications"})]})})]}):""]}),Object(d.jsxs)("ul",{className:"bottom_sidemenu",children:[Object(d.jsxs)("li",{children:[Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("i",{className:"fab fa-facebook"})}),Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("i",{className:"fab fa-twitter"})}),Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("i",{className:"fab fa-linkedin"})})]}),Object(d.jsx)("li",{className:"bottom_btn",children:Object(d.jsxs)("button",{className:"btn logout_btn",onClick:s,children:[Object(d.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})]})},H=s(18),X=s(4),Z=s(163),ee=function(e){return{type:v,payload:e}},te=function(e,t,s){return{type:p,payload:{method:"GET",url:"orgs",data:e,success:function(e){return se(e.data)},postProcessSuccess:t,postProcessError:s}}},se=function(e){return{type:g,payload:e}},ce=function(e,t,s){return{type:p,payload:{method:"GET",url:"orgs/".concat(e),success:function(e){return re(e.data)},postProcessSuccess:t,postProcessError:s}}},re=function(e){return{type:_,payload:e}},ae=s(10),ne=Object(m.b)((function(e){return{user:e.user}}),(function(e){return{dispatchTrainerRequestAction:function(t,s,c,r,a){return e(function(e,t){return e.content.title="Trainer Request By "+e.content.user_name+" to the organization named "+e.content.entity_name,{type:p,payload:{method:"POST",url:"requests",data:e,postProcessSuccess:t}}}({content:t,type:s,orgId:c},r))},dispatchGetOrgByIdAction:function(t,s){return e(ce(t,s))}}}))((function(e){var t=e.user,s=(e.loading,e.match),r=e.dispatchTrainerRequestAction,a=e.dispatchGetOrgByIdAction,n=Object(c.useState)(""),i=Object(X.a)(n,2),l=i[0],o=i[1],j=s.params.orgId;Object(c.useEffect)((function(){j&&a(j,(function(e){o(e.data.name)}))}),[a,s.params]);var u=Object(ae.a)(),m=u.register,b=u.handleSubmit,p=u.errors;return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Request To ",l," Became A Trainer "]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("p",{className:"some_info alert alert-info",children:"The Organization Admin Will Get Your Request and Process It After Seeing Your Profile Information. Please Make Sure Your Profile Is Complete along With a CV Before Sending any Join Request. "}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:b((function(e){return r(e.content,e.type,e.orgId,(function(e){e&&setTimeout((function(){return window.location.replace("/requests")}),300),h.c.success("Request Sent Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Cover Letter"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Cover Letter",ref:m({required:!0})}),p.cover&&Object(d.jsx)("p",{className:"error",children:"Cover Letter is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",value:"trainer_registration",ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[entity_name]",value:l,ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[user_name]",value:t.name,ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"orgId",value:j,ref:m({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Request"})]})]})})]})}));var ie=function(){return Object(d.jsxs)("div",{className:"text-center  not_found",children:[Object(d.jsx)("h2",{children:Object(d.jsx)("i",{className:"far fa-folder-open fa-3x"})}),Object(d.jsx)("h4",{className:"text-center",children:"No data Found!"})]})},le=s(31),oe=s.n(le),de=function(e){var t=e.orgs,s=e.user,r=Object(c.useState)(""),a=Object(X.a)(r,2),n=a[0],i=a[1],l=t&&t.filter((function(e){return""===n||e.name.toLowerCase().includes(n.toLowerCase())?e:[]}));return Object(d.jsx)("div",{className:"orgs_list",children:Object(d.jsxs)("div",{className:"card-group row",children:[Object(d.jsx)("div",{className:"col-12 p-3",children:Object(d.jsx)("div",{className:"filter_section",children:Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Enter Keyword To Search...",className:"form-control",onChange:function(e){i(e.target.value)}})})})}),l&&l.length>0?l.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img org_logo",children:Object(d.jsx)("img",{className:"card-img-top",src:e.logo,alt:e.name})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.name}),Object(d.jsx)("p",{className:"card-text",children:e.description})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Created ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsxs)("div",{className:"card-footer btns",children:[Object(d.jsx)(o.a,{to:"/orgs/".concat(e.id),className:"join_link view_btn",children:"View Details"}),"Super Admin"===s.role?Object(d.jsx)(o.a,{to:"/edit_org/".concat(e.id),className:"join_link ",children:"Edit"}):""]})]},e.id)})):Object(d.jsx)(ie,{})]})})},je=Object(m.b)((function(e){return{orgs:e.orgs.all,loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchAllOrgsAction:function(){return e(te())}}}))((function(e){var t=e.orgs,s=e.dispatchFetchAllOrgsAction,r=e.user;return Object(c.useEffect)((function(){return s((function(e){console.log("Organizations Loaded")}),(function(e){return h.c.error(e)}))}),[s]),Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title",children:"All Organizations"}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)(de,{orgs:t,user:r})})]})})),ue=Object(m.b)((function(e){return{user:e.user}}),(function(e){return{dispatchLogoutAction:function(){e(G()),h.c.success("You are logged out!")}}}))((function(e){var t=e.user;return Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsxs)("h2",{className:"page_title",children:["Welcome To Stitch ",t.name]})})})),me=Object(m.b)(null,(function(e){return{dispatchResetAction:function(t,s,c,r){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"requests/process",data:e,success:function(e){return z(e.data)},postProcessSuccess:t,postProcessError:s}}}({otp:t,password:s},c,r))}}}))((function(e){var t=e.dispatchResetAction,s=Object(ae.a)(),c=s.register,r=s.handleSubmit,a=s.errors;return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:r((function(e){return t(e.otp,e.password,(function(e){e&&setTimeout((function(){return window.location.replace("/")}),300),h.c.success("Your Password Was Reset!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"otp",className:"form-label",children:"Otp"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"otp",placeholder:"123456",ref:c({required:!0}),name:"otp"}),a.otp&&Object(d.jsx)("p",{className:"error",children:"6 digit OTP code is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Enter New Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",ref:c({required:!0}),name:"password"}),a.password&&Object(d.jsx)("p",{className:"error",children:"New Password is required*"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset"})]}),Object(d.jsxs)("div",{className:"form_bottom_link",children:[Object(d.jsx)(o.a,{to:"/login",children:"Login"}),Object(d.jsx)(o.a,{to:"/register",children:"Register"}),Object(d.jsx)(o.a,{to:"/otp",children:"Enter Otp"})]})]})})),be=function(){return Object(d.jsx)("div",{className:"row auth_wrapper",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)(me,{})})})},he=Object(m.b)(null,(function(e){return{dispatchEnterResetAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"auth/forgot",data:e,success:function(e){return W(e)},postProcessSuccess:t,postProcessError:s}}}({email:t},s,c))}}}))((function(e){var t=e.dispatchEnterResetAction,s=Object(ae.a)(),c=s.register,r=s.handleSubmit,a=s.errors;return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:r((function(e){return t(e.email,(function(e){e&&setTimeout((function(){return window.location.replace("/reset")}),300),h.c.success("Otp Sent to Your Email!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Your Email",ref:c({required:!0}),name:"email"}),a.email&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset"})]}),Object(d.jsxs)("div",{className:"form_bottom_link",children:[Object(d.jsx)(o.a,{to:"/login",children:"Login"}),Object(d.jsx)(o.a,{to:"/register",children:"Register"}),Object(d.jsx)(o.a,{to:"/otp",children:"Enter Otp"})]})]})})),pe=function(){return Object(d.jsx)("div",{className:"row auth_wrapper",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)(he,{})})})},Oe=Object(m.b)(null,(function(e){return{dispatchOtpAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"requests/process",data:e,success:function(e){return z(e.data)},postProcessSuccess:t,postProcessError:s}}}({otp:t},s,c))}}}))((function(e){var t=e.dispatchOtpAction,s=Object(ae.a)(),c=s.register,r=s.handleSubmit,a=s.errors;return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:r((function(e){return t(e.otp,(function(e){console.log(e),e.data&&e.data.request&&e.data.request.courseId?setTimeout((function(){return window.location.replace("/courses/"+e.data.request.courseId)}),300):e.data&&e.data.request&&e.data.request.orgId?setTimeout((function(){return window.location.replace("/orgs/"+e.data.request.orgId)}),300):setTimeout((function(){return window.location.replace("/")}),300),h.c.success("Successfully Validated!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"otp",className:"form-label",children:"Otp"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"otp",placeholder:"123456",ref:c({required:!0}),name:"otp"}),a.otp&&Object(d.jsx)("p",{className:"error",children:"6 digit OTP code is required*"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Validate"})]}),Object(d.jsxs)("div",{className:"form_bottom_link",children:[Object(d.jsx)(o.a,{to:"/register",children:"Register"}),Object(d.jsx)(o.a,{to:"/login",children:"Login"}),Object(d.jsx)(o.a,{to:"/enteremail",children:"Reset Password"})]})]})})),xe=function(){return Object(d.jsx)("div",{className:"row auth_wrapper",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)(Oe,{})})})},fe=Object(m.b)(null,(function(e){return{dispatchRegisterAction:function(t,s,c,r,a,n,i,l,o,d){return e(function(e,t,s){var c=new FormData;return e.pic&&(e.pic=e.pic[0]),Object.keys(e).map((function(t){c.append(t,e[t])})),{type:p,payload:{method:"POST",url:"auth/register",data:c,success:function(e){return W(e)},postProcessSuccess:t,postProcessError:s}}}({name:t,email:s,password:c,phone:r,bio:a,address:n,pic:i,role:l},o,d))}}}))((function(e){var t=e.dispatchRegisterAction,s=Object(H.g)(),c=Object(ae.a)(),r=c.register,a=c.handleSubmit,n=c.errors;return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsxs)("form",{noValidate:!0,className:" p-4",onSubmit:a((function(e){return console.log(e),t(e.name,e.email,e.password,e.phone,e.bio,e.address,e.pic,e.role,(function(){h.c.success("Account Created Successfully!"),s.push("/otp")}),(function(e){return h.c.error(e)})),!1})),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Full Name",name:"name",ref:r({required:!0})}),n.name&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",placeholder:"0173....",ref:r({required:!0})}),n.phone&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Your email",ref:r({required:!0})}),n.email&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",ref:r({required:!0})}),n.password&&Object(d.jsx)("p",{className:"error",children:"Password is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"bio",className:"form-label",children:"Short Bio"}),Object(d.jsx)("textarea",{name:"bio",id:"bio",className:"form-control",placeholder:"Short Bio",ref:r({required:!0})}),n.bio&&Object(d.jsx)("p",{className:"error",children:"Bio is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",id:"address",className:"form-control",placeholder:"Address",ref:r({required:!0})}),n.address&&Object(d.jsx)("p",{className:"error",children:"Address is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"role",className:"form-label",children:"Registering As"}),Object(d.jsxs)("select",{className:"form-control",id:"role",name:"role",defaultValue:"Trainee",ref:r({required:!0}),children:[Object(d.jsx)("option",{value:"Trainee",children:"Trainee"}),Object(d.jsx)("option",{value:"Trainer",children:"Trainer"})]})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"pic",className:"form-label",children:"Your Image"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"pic",name:"pic",ref:r})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"})]}),Object(d.jsxs)("div",{className:"form_bottom_link",children:[Object(d.jsx)(o.a,{to:"/login",children:"Login"}),Object(d.jsx)(o.a,{to:"/otp",children:"Enter Otp"}),Object(d.jsx)(o.a,{to:"/enteremail",children:"Reset Password"})]})]})})),Ne=function(){return Object(d.jsx)("div",{className:"row auth_wrapper",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)(fe,{})})})},ge=Object(m.b)(null,(function(e){return{dispatchLoginAction:function(t,s,c,r){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"auth/login",data:e,success:function(e){return z(e.data)},postProcessSuccess:t,postProcessError:s}}}({phone:t,password:s},c,r))}}}))((function(e){var t=e.dispatchLoginAction,s=Object(ae.a)(),c=s.register,r=s.handleSubmit,a=s.errors;return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:r((function(e){return t(e.phone,e.password,(function(e){e&&setTimeout((function(){return window.location.reload()}),300),h.c.success("You are logged in")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",placeholder:"0173....",ref:c({required:!0})}),a.phone&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",ref:c({required:!0})}),a.password&&Object(d.jsx)("p",{className:"error",children:"Password is required*"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign in"})]}),Object(d.jsxs)("div",{className:"form_bottom_link",children:[Object(d.jsx)(o.a,{to:"/register",children:"Register"}),Object(d.jsx)(o.a,{to:"/otp",children:"Enter Otp"}),Object(d.jsx)(o.a,{to:"/enteremail",children:"Reset Password"})]})]})})),ve=function(){return Object(d.jsx)("div",{className:"row auth_wrapper",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)(ge,{})})})},ye=function(e){var t=e.courses,s=Object(c.useState)(""),r=Object(X.a)(s,2),a=r[0],n=r[1],i=t.filter((function(e){return""===a||e.title.toLowerCase().includes(a.toLowerCase())?e:[]}));return Object(d.jsx)("div",{className:"orgs_list",children:Object(d.jsxs)("div",{className:"card-group row ",children:[Object(d.jsx)("div",{className:"col-12 p-3",children:Object(d.jsx)("div",{className:"filter_section",children:Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Enter Keyword To Search...",className:"form-control",onChange:function(e){n(e.target.value)}})})})}),i.length>0?i.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img",children:Object(d.jsx)("img",{className:"card-img-top",src:e.banner?e.banner:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:e.title})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.title}),Object(d.jsx)("p",{className:"card-text",children:e.shortDesc})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Published ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsx)("div",{className:"card-footer btns",children:Object(d.jsx)(o.a,{to:"/courses/".concat(e.id),className:"join_link view_btn",children:"View"})})]},e.id)})):Object(d.jsx)(ie,{})]})})},we=Object(m.b)((function(e){return{loading:e.loading,user:e.user}}),(function(e){return{dispatchGetOrgByIdAction:function(t,s){return e(ce(t,s))},dispatchFetchAllOrgsAction:function(){return e(te())}}}))((function(e){var t=e.match,s=e.dispatchGetOrgByIdAction,r=e.user,a=e.OrgsList,n=Object(c.useState)(""),i=Object(X.a)(n,2),l=i[0],j=i[1],u=Object(c.useState)(""),m=Object(X.a)(u,2),b=m[0],h=m[1],p=Object(c.useState)(""),O=Object(X.a)(p,2),x=O[0],f=O[1],N=Object(c.useState)(""),g=Object(X.a)(N,2),v=g[0],y=g[1],w=Object(c.useState)(""),_=Object(X.a)(w,2),S=_[0],C=_[1],A=Object(c.useState)(""),T=Object(X.a)(A,2),E=T[0],q=T[1],F=Object(c.useState)(""),I=Object(X.a)(F,2),P=I[0],k=I[1],D=t.params.orgId;return D=parseInt(D),Object(c.useEffect)((function(){D&&s(D,(function(e){j(e.data.name),y(e.data.logo),q(e.data.address),h(e.data.key_people),C(e.data.description),k(e.data.Courses),f(e.data.Users)}))}),[s,t.params]),Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"single_page",children:[Object(d.jsxs)("div",{className:"text-right mb-3 ",children:["Trainer"!==r.role||a.includes(D)?"":Object(d.jsx)(o.a,{to:"/trainer_registration/".concat(D),className:"join_link",children:"Join"}),a&&"Trainer"===r.role&&a.includes(D)?Object(d.jsx)(o.a,{to:"/course_builder/".concat(D),className:"join_link",children:"Create Course"}):"",a&&"Organization Admin"===r.role&&a.includes(D)?Object(d.jsx)(o.a,{to:"/trainer_invite/".concat(D),className:"join_link invite_btn",children:"Invite Trainer"}):""]}),Object(d.jsxs)("div",{className:"page_header",children:[Object(d.jsx)("h2",{className:"page_title",children:l}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img org_logo",children:Object(d.jsx)("img",{className:"card-img-top",src:v,alt:l})}),Object(d.jsx)("div",{className:"card-body",children:S})]}),Object(d.jsx)("div",{className:"col-4 p-3",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"single_card_elem",children:[Object(d.jsx)("h4",{children:"Address"}),E]}),Object(d.jsxs)("div",{className:"single_card_elem",children:[Object(d.jsx)("h4",{children:"Key People"}),b&&Object.values(b).length>0?Object.values(b).map((function(e){return Object(d.jsxs)("div",{className:"mb-2",children:[Object(d.jsx)("div",{className:"name",children:e.name}),Object(d.jsx)("div",{className:"designation",children:e.designation})]})})):Object(d.jsx)(ie,{})]})]})}),Object(d.jsx)("div",{className:"col-4 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("div",{className:"single_card_elem",children:[Object(d.jsx)("h4",{children:"Trainers Of This Organization"}),x&&x.length>0?x.map((function(e){return Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"single_person",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:e.pic?e.pic:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:e.name})}),Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"name",children:e.name}),Object(d.jsx)("div",{className:"designation",children:Object(d.jsx)("a",{href:"/profile_view/"+e.id,children:"View Profile"})})]})]})})})):Object(d.jsx)(ie,{})]})})})]})]}),Object(d.jsxs)("div",{className:"page_cards mt-5",children:[Object(d.jsx)("h4",{className:"page_title",children:"Courses Provided By This Organization"}),P?Object(d.jsx)(ye,{courses:P,user:r,showOnlyView:!0}):""]})]})})})})),_e=function(e){return{type:M,payload:e}},Se=function(e,t){return{type:B,payload:{reqId:e,data:t}}},Ce=s(24),Ae=Object(Ce.a)(),Te=Object(m.b)(null,(function(e){return{dispatchHandleAction:function(t,s,c,r){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"requests/handle/".concat(e.reqId),data:e,success:function(e){return e.data},postProcessSuccess:t,postProcessError:s}}}({status:t,reqId:s},c,r))},dispatchDeleteAction:function(t,s,c,r){return e(function(e,t,s,c){return{type:p,payload:{method:"DELETE",url:"requests/".concat(e),success:function(s){return Se(e,t)},postProcessSuccess:s,postProcessError:c}}}(t,{data:s},c,r))}}}))((function(e){var t=e.requests,s=(e.user,e.dispatchHandleAction),c=e.dispatchDeleteAction,r=t&&t.sentByUser&&t.sentByUser.length?t.sentByUser.filter((function(e){return"pending"===e.status})):null,a=t&&t.sentToUser&&t.sentToUser.length?t.sentToUser.filter((function(e){return"pending"===e.status})):null,n=function(e,t){return e.preventDefault(),s("denied",e.target.reqId.value,(function(e){e&&Ae.push("/requests"),h.c.success("Updated Successfully!")}),(function(e){return h.c.error(e)})),!1},i=function(e){return e.preventDefault(),s("approved",e.target.reqId.value,(function(e){e&&setTimeout((function(){return window.location.replace("/requests")}),300),h.c.success("Updated Successfully!")}),(function(e){return h.c.error(e)})),!1};return Object(d.jsxs)("div",{className:"orgs_list",children:[Object(d.jsxs)("div",{className:"card-group row request_list",children:[Object(d.jsx)("h4",{className:"page_title",children:"Requests To Me"}),a&&a.length?a.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("p",{className:"card-text status",children:e.status}),Object(d.jsx)("h5",{className:"card-title",children:e.content.title}),Object(d.jsx)("p",{className:"card-text",children:e.content.message}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Published ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsxs)("div",{className:"card-footer btns req_btns",children:[Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:n,children:[Object(d.jsx)("input",{type:"hidden",name:"reqId",defaultValue:e.id}),Object(d.jsx)("input",{type:"hidden",name:"denied",defaultValue:"denied"}),Object(d.jsx)("button",{type:"submit",className:"btn join_link btn_remove",children:"Deny"})]}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:i,children:[Object(d.jsx)("input",{type:"hidden",name:"reqId",defaultValue:e.id}),Object(d.jsx)("input",{type:"hidden",name:"approved",defaultValue:"approved"}),Object(d.jsx)("button",{type:"submit",className:"btn join_link",children:"Accept"})]}),"trainer_invite"===e.type?Object(d.jsx)(o.b,{to:"/orgs/"+e.orgId,className:"btn join_link view_btn ",children:"View Organization"}):"","trainee_invite"===e.type?Object(d.jsx)("a",{href:"/courses/"+e.courseId,className:"btn join_link view_btn ",children:"View Course"}):"","trainee_enrollment"===e.type?Object(d.jsx)("a",{href:"/profile_view/"+e.fromId,className:"btn join_link view_btn ",children:"View Profile"}):"","trainer_registration"===e.type?Object(d.jsx)("a",{href:"/profile_view/"+e.fromId,className:"btn join_link view_btn ",children:"View Profile"}):""]})]})},e.id)})})):Object(d.jsx)(ie,{})]}),Object(d.jsxs)("div",{className:"card-group row request_list",children:[Object(d.jsx)("h4",{className:"page_title",children:"Requests From Me"}),r&&r.length?r.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("p",{className:"card-text status",children:e.status}),Object(d.jsx)("h5",{className:"card-title",children:e.content.title}),Object(d.jsx)("p",{className:"card-text",children:e.content.message}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Requested ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsx)("div",{className:"card-footer btns req_btns",children:Object(d.jsx)("form",{noValidate:!0,className:"p-4",onSubmit:function(t,s,r){return function(e,t,s){e.preventDefault(),s=parseInt(s),c(s,t,(function(e){e&&Ae.replace("/requests"),h.c.success("Deleted Successfully!")}),(function(e){return h.c.error(e)}))}(t,"sentByUser",e.id)},children:Object(d.jsx)("button",{type:"submit",className:"btn join_link btn_remove",children:"Delete"})})})]})},e.id)})})):Object(d.jsx)(ie,{})]})]})})),Ee=Object(m.b)((function(e){return{requests:e.requests,loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchUserRequestsAction:function(){return e({type:p,payload:{method:"GET",url:"requests/user",success:function(e){return _e(e.data)}}})}}}))((function(e){e.loading;var t=e.requests,s=e.dispatchFetchUserRequestsAction,r=e.user;return Object(c.useEffect)((function(){return s()}),[]),Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)(Te,{requests:t,user:r})})})})),qe=Object(m.b)((function(e){return{user:e.user,loading:e.loading}}),(function(e){return{dispatchUpdateCurrentUserAction:function(t,s,c,r,a,n,i,l){return e(function(e,t,s){var c=new FormData;return e.pic&&(e.pic=e.pic[0]),e.cv&&(e.cv=e.cv[0]),Object.keys(e).map((function(t){c.append(t,e[t])})),{type:p,payload:{method:"PUT",url:"users/".concat(e.userId),data:c,success:function(e){return z(e.data)},postProcessSuccess:t,postProcessError:s}}}({userId:t,name:s,bio:c,address:r,pic:a,cv:n},i,l))}}}))((function(e){e.loading;var t=e.user,s=e.dispatchUpdateCurrentUserAction,c=Object(ae.a)(),r=c.register,a=c.handleSubmit,n=c.errors;return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:[t.name,"'s Profile"]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"request_form",children:Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:a((function(e){return s(e.userId,e.name,e.bio,e.address,e.pic,e.cv,(function(e){e&&setTimeout((function(){return window.location.replace("/profilepage/"+t.id)}),300),h.c.success("Profile Updated Successfully!")}),(function(e){return h.c.error(e)})),!1})),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Full Name",name:"name",ref:r({required:!0}),defaultValue:t.name}),Object(d.jsx)("input",{type:"hidden",className:"form-control",id:"userId",name:"userId",ref:r({required:!0}),defaultValue:t.userId}),n.name&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"phone",disabled:!0,placeholder:"0173....",defaultValue:t.phone})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"email",disabled:!0,className:"form-control",id:"email",name:"email",placeholder:"Your email",defaultValue:t.email})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"bio",className:"form-label",children:"Short Bio"}),Object(d.jsx)("textarea",{name:"bio",id:"bio",className:"form-control",placeholder:"Short Bio",ref:r({required:!0}),defaultValue:t.bio}),n.bio&&Object(d.jsx)("p",{className:"error",children:"Bio is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",id:"address",className:"form-control",placeholder:"Address",ref:r({required:!0}),defaultValue:t.address}),n.address&&Object(d.jsx)("p",{className:"error",children:"Address is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"pic",className:"form-label",children:"Your Image"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"pic",name:"pic",ref:r}),Object(d.jsx)("div",{className:"preview",children:t.pic?Object(d.jsx)("div",{className:"preview",children:Object(d.jsx)("img",{src:t.pic})}):""})]}),"Trainer"===t.role?Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cv",className:"form-label",children:"Your CV"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"cv",name:"cv",ref:r}),t.cv?Object(d.jsx)("div",{className:"preview",children:Object(d.jsxs)("a",{href:t.cv,className:"btn btn-primary",target:"_blank",children:[Object(d.jsx)("i",{className:"fas fa-eye"})," View CV"]})}):""]}):"",Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})})})]})})),Fe=function(e){return{type:P,payload:e}},Ie=function(e,t,s){return{type:p,payload:{method:"GET",url:"courses/".concat(e),success:function(e){return t=e.data,{type:k,payload:t};var t},postProcessSuccess:t,postProcessError:s}}},Pe=function(e){return{type:R,payload:e}},ke=Object(m.b)((function(e){return console.log(e),{courses:e.courses.all,loading:e.loading}}),(function(e){return{dispatchFetchAllCoursesAction:function(t,s){return e(function(e,t,s){return{type:p,payload:{method:"GET",url:"courses",data:e,success:function(e){return Fe(e.data)},postProcessSuccess:t,postProcessError:s}}}(t,s))}}}))((function(e){var t=e.courses,s=e.dispatchFetchAllCoursesAction;return Object(c.useEffect)((function(){s((function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[s]),t?Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title",children:"All Courses"}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)(ye,{courses:t})})]}):"Loading"})),De=Object(m.b)((function(e){return{user:e.user}}),(function(e){return{dispatchTraineeRequestAction:function(t,s,c,r,a){return e(function(e,t){return{type:p,payload:{method:"POST",url:"requests",data:e,postProcessSuccess:t}}}({content:t,type:s,courseId:c},r))},dispatchGetCourseByIdAction:function(t,s){return e(Ie(t,s))}}}))((function(e){e.loading;var t=e.match,s=e.dispatchTraineeRequestAction,r=e.dispatchGetCourseByIdAction,a=e.user,n=Object(c.useState)(""),i=Object(X.a)(n,2),l=i[0],o=i[1],j=t.params.courseId;Object(c.useEffect)((function(){j&&r(j,(function(e){o(e.data.title)}))}),[]);var u=Object(ae.a)(),m=u.register,b=u.handleSubmit,p=u.errors;return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Request To Join ",l," "]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("p",{className:"some_info alert alert-info",children:"Trainer will receive your request to join this course."}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:b((function(e){return s(e.content,e.type,e.courseId,(function(e){e&&setTimeout((function(){return window.location.replace("/requests")}),300),h.c.success("Request Sent Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Cover Letter"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Cover Letter",ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[entity_name]",value:l,ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[user_name]",value:a.name,ref:m({required:!0})}),p.cover&&Object(d.jsx)("p",{className:"error",children:"Cover Letter is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",defaultValue:"trainee_enrollment",ref:m({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"courseId",defaultValue:j,ref:m({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Request"})]})]})})]})})),Ve=function(){return Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Reviews"}),Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsxs)("div",{className:"comments",children:[Object(d.jsxs)("div",{className:"single_person comment_single",children:[Object(d.jsx)("div",{className:"parent_comment",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})}),Object(d.jsx)("div",{className:"single_person comment_single",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})})]}),Object(d.jsxs)("div",{className:"single_person comment_single",children:[Object(d.jsx)("div",{className:"parent_comment",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})}),Object(d.jsx)("div",{className:"single_person comment_single",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})})]})]})})]})})},Le=Object(m.b)((function(e){return{courses:e.courses,loading:e.loading,user:e.user,TrainerCoursesList:e.users.TrainerCoursesList,TraineeCoursesList:e.users.TraineeCoursesList}}),(function(e){return{dispatchGetCourseByIdAction:function(t,s,c){return e(Ie(t,s,c))},dispatchFetchCurrentUserAction:function(t,s){return e($(t,s))}}}))((function(e){e.loading;var t=e.match,s=e.dispatchGetCourseByIdAction,r=(e.courses,e.user),a=(e.OrgsList,e.TraineeCoursesList),n=e.TrainerCoursesList,i=e.dispatchFetchCurrentUserAction,l=Object(c.useState)(""),j=Object(X.a)(l,2),u=j[0],m=j[1],b=Object(c.useState)(""),p=Object(X.a)(b,2),O=p[0],x=p[1],f=Object(c.useState)(""),N=Object(X.a)(f,2),g=N[0],v=N[1],y=Object(c.useState)(""),w=Object(X.a)(y,2),_=w[0],S=w[1],C=Object(c.useState)(""),A=Object(X.a)(C,2),T=A[0],E=A[1],q=Object(c.useState)(""),F=Object(X.a)(q,2),I=F[0],P=F[1],k=Object(c.useState)(""),D=Object(X.a)(k,2),V=(D[0],D[1]),L=Object(c.useState)(""),R=Object(X.a)(L,2),U=R[0],M=R[1],B=Object(c.useState)(""),G=Object(X.a)(B,2),z=(G[0],G[1]),Q=Object(c.useState)(""),$=Object(X.a)(Q,2),Y=$[0],K=$[1],W=Object(c.useState)(""),J=Object(X.a)(W,2),H=J[0],Z=J[1],ee=Object(c.useState)(""),te=Object(X.a)(ee,2),se=(te[0],te[1]),ce=Object(c.useState)(""),re=Object(X.a)(ce,2),ae=(re[0],re[1]),ne=Object(c.useState)(""),le=Object(X.a)(ne,2),oe=(le[0],le[1],Object(c.useState)("")),de=Object(X.a)(oe,2),je=(de[0],de[1]),ue=t.params.courseId;return Object(c.useEffect)((function(){ue&&s(ue,(function(e){m(e.data.title),x(e.data.Exams),Z(e.data.Trainers),je(e.data.trainees),v(e.data.banner),S(e.data.shortDesc),E(e.data.description),E(e.data.description),V(e.data.passing_mark),M(e.data.visitor_count),z(e.data.categories),K(e.data.Chapters),se(e.data.Comments),ae(e.data.Org),P(e.data.objective)}),(function(e){return h.c.error(e)}))}),[s,t.params]),Object(c.useEffect)((function(){i(r.userId,(function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[i,r.userId]),Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"single_page",children:[Object(d.jsxs)("div",{className:"page_header course_header",children:[Object(d.jsx)("center",{children:Object(d.jsx)("img",{src:g||"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",className:"org_logo"})}),Object(d.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(d.jsx)("div",{className:"col-6 text-left",children:Object(d.jsx)("h3",{className:"media-heading course_title single_course_title",children:u})}),Object(d.jsxs)("div",{className:"col-6 text-right",children:["Trainer"===r.role&&n&&n.length&&n.includes(parseInt(ue))?Object(d.jsx)(o.a,{to:"/trainee_invite/"+ue,className:"btn btn-primary",children:" Invite Trainee"}):"","Trainee"===r.role&&a&&a.length&&a.includes(parseInt(ue))&&O.length?Object(d.jsx)("a",{className:"back_to_main_course btn  join_link",href:"/exam_submission/"+O[0].id,children:"Evaluate"}):"",Object(d.jsxs)("button",{className:"visitor_count mr-2",children:["Total Visits: ",U]})]})]})]}),Object(d.jsxs)("div",{className:"row single_course_body",children:[Object(d.jsx)("div",{className:"col-6 p-3",children:Object(d.jsx)("div",{className:"card-body",children:_})}),Object(d.jsx)("div",{className:"col-6 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("div",{className:"single_card_elem",children:[Object(d.jsx)("h4",{children:"Trainers Of This Course"}),H&&H.length>0?H.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsxs)("div",{className:"single_person",children:[Object(d.jsx)("div",{className:"image single_person_img",children:Object(d.jsx)("img",{src:e.pic?e.pic:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:e.name})}),Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"name",children:e.name}),Object(d.jsx)("div",{className:"designation",children:Object(d.jsx)("a",{href:"/profile_view/"+e.id,children:"View Profile"})})]})]})})})})):Object(d.jsx)(ie,{})]})})}),Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Description"}),Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsx)("div",{className:"desc_block",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:T}})})})]})}),Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Objectives"}),Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsx)("div",{className:"desc_block",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:I}})})})]})}),Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Chapters"}),Y&&Y.length>0?Y.map((function(e){return Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsxs)("div",{className:"desc_block",children:[Object(d.jsx)("div",{className:"chap_title",children:e.title}),Object(d.jsx)("div",{className:"chap_desc",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:e.instructions}})}),a&&a.length&&a.includes(parseInt(ue))||n&&n.length&&n.includes(parseInt(ue))?Object(d.jsx)("div",{className:"link",children:Object(d.jsx)("a",{href:"/chapters/"+ue+"/"+e.id,className:"view_btn join_link",children:"View Chapter"})}):""]})})})):Object(d.jsx)(ie,{})]})}),Object(d.jsx)(Ve,{})]})]})})})})),Re=s(27),Ue=function(e){return{type:p,payload:{method:"POST",url:"users/filtered",data:{role:{name:"Organization Admin"}},postProcessSuccess:e}}},Me=Object(m.b)((function(e){return{loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchAllTraineesAction:function(t){return e(function(e){return{type:p,payload:{method:"POST",url:"users/filtered",data:{role:{name:"Trainee"}},postProcessSuccess:e}}}(t))},dispatchGetCourseByIdAction:function(t,s){return e(Ie(t,s))},dispatchTraineeInviteAction:function(t,s,c,r,a){return e(function(e,t){return{type:p,payload:{method:"POST",url:"requests",data:e,postProcessSuccess:t}}}({content:t,type:s,courseId:c},r))}}}))((function(e){e.user;var t=e.match,s=e.dispatchTraineeInviteAction,r=e.dispatchGetCourseByIdAction,a=e.dispatchFetchAllTraineesAction,n=Object(c.useState)(""),i=Object(X.a)(n,2),l=i[0],o=i[1],j=Object(c.useState)(""),u=Object(X.a)(j,2),m=u[0],b=u[1],p=Object(c.useState)(""),O=Object(X.a)(p,2),x=O[0],f=O[1],N=Object(c.useState)(""),g=Object(X.a)(N,2),v=g[0],y=g[1],w=Object(c.useState)(!1),_=Object(X.a)(w,2),S=_[0],C=_[1],A=Object(c.useState)([]),T=Object(X.a)(A,2),E=T[0],q=T[1],F=Object(c.useState)(),I=Object(X.a)(F,2),P=I[0],k=I[1],D=t.params.courseId;if(Object(c.useEffect)((function(){r(D,(function(e){a((function(e){k(e.data)})),o(e.data.title)}))}),[]),P&&P.length>0){var V=P.map((function(e){return{label:e.name,value:e.id}}));!E.length>0&&q(V)}var L=Object(ae.a)(),R=L.register,U=L.handleSubmit,M=L.errors,B=function(e){return s(e.content,e.type,e.courseId,(function(e){e&&setTimeout((function(){return window.location.replace("/requests")}),300),h.c.success("Request Sent Successfully!")}),(function(e){return h.c.error(e)})),!1};return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Invite Trainee To ",l," "]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("p",{className:"some_info alert alert-info",children:"Select and existing Trainee from the select field or fill the name, email and phone no to invite non existing user. Trainee Will Receive An OTP. After Validating the OTP they will join this course."}),Object(d.jsx)("button",{onClick:function(e){C(!S)},className:"btn btn-success mb-3 pull-right",children:S?"Send To Existing":"Add New"}),S?Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:U(B),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"content[name]",ref:R({required:!0}),placeholder:"Name"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"content[phone]",className:"form-control",ref:R({required:!0}),placeholder:"Phone"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"content[email]",className:"form-control",ref:R({required:!0}),placeholder:"Email"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Message"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Invitation message",ref:R({required:!0})}),M.content&&Object(d.jsx)("p",{className:"error",children:"Invitation message is required*"})]}),Object(d.jsx)("input",{type:"hidden",name:"type",defaultValue:"trainee_invite",ref:R({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"courseId",defaultValue:D,ref:R({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create & Send Invitation"})]}):Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:U(B),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user",className:"form-label",children:"Select Trainee"}),E.length>0?Object(d.jsx)(Re.a,{options:E,onChange:function(e){P.filter((function(t){return t.id===e.value})).map((function(e){b(e.name),f(e.phone),y(e.email)}))}}):""]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"content[name]",defaultValue:m||"",ref:R({required:!0}),placeholder:"Name"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"content[phone]",className:"form-control",defaultValue:x||"",ref:R({required:!0}),placeholder:"Phone"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"content[email]",className:"form-control disabledTextInput",defaultValue:v||"",ref:R({required:!0}),placeholder:"Email"}),M.content&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Message"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Invitation message",ref:R({required:!0})}),M.content&&Object(d.jsx)("p",{className:"error",children:"Invitation message is required*"})]}),Object(d.jsx)("input",{type:"hidden",name:"type",defaultValue:"trainee_invite",ref:R({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"courseId",defaultValue:D,ref:R({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Invitation"})]})]})})]})})),Be=Object(m.b)((function(e){return{users:e.users.users,loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchAllTrainersAction:function(t){return e(function(e){return{type:p,payload:{method:"POST",url:"users/filtered",data:{role:{name:"Trainer"}},postProcessSuccess:e}}}(t))},dispatchGetOrgByIdAction:function(t,s){return e(ce(t,s))},dispatchTrainerInviteAction:function(t,s,c,r,a){return e(function(e,t){return e.content.title="Invite to Join "+e.content.name,{type:p,payload:{method:"POST",url:"requests",data:e,postProcessSuccess:t}}}({content:t,type:s,orgId:c},r))}}}))((function(e){var t=e.user,s=e.match,r=e.dispatchTrainerInviteAction,a=e.dispatchGetOrgByIdAction,n=e.dispatchFetchAllTrainersAction,i=Object(c.useState)(""),l=Object(X.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)(""),m=Object(X.a)(u,2),b=m[0],p=m[1],O=Object(c.useState)(""),x=Object(X.a)(O,2),f=x[0],N=x[1],g=Object(c.useState)(""),v=Object(X.a)(g,2),y=v[0],w=v[1],_=Object(c.useState)([]),S=Object(X.a)(_,2),C=S[0],A=S[1],T=Object(c.useState)(!1),E=Object(X.a)(T,2),q=E[0],F=E[1],I=Object(c.useState)(),P=Object(X.a)(I,2),k=P[0],D=P[1],V=s.params.orgId;if(Object(c.useEffect)((function(){V&&a(V,(function(e){n((function(e){D(e.data)})),j(e.data.name)}))}),[]),k&&k.length>0){var L=k.map((function(e){return{label:e.name,value:e.id}}));!C.length>0&&(console.log(L),A(L))}var R=Object(ae.a)(),U=R.register,M=R.handleSubmit,B=R.errors,G=function(e){return r(e.content,e.type,e.orgId,(function(e){e&&setTimeout((function(){return window.location.replace("/requests")}),300),h.c.success("Request Sent Successfully!")}),(function(e){return h.c.error(e)})),!1};return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Invite Trainer To ",o," "]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("p",{className:"some_info alert alert-info",children:"Select and existing Trainer from the select field or fill the name, email and phone no to invite non existing user. Trainer Will Receive An OTP. After Validating the OTP they will join this organization."}),Object(d.jsx)("button",{onClick:function(e){F(!q)},className:"btn btn-success mb-3 pull-right",children:q?"Send To Existing":"Add New"}),q?Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:M(G),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"content[name]",defaultValue:b||"",ref:U({required:!0}),placeholder:"Name"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"content[phone]",className:"form-control",defaultValue:f||"",ref:U({required:!0}),placeholder:"Phone"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"content[email]",className:"form-control",defaultValue:y||"",ref:U({required:!0}),placeholder:"Email"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Email is required*"}),Object(d.jsx)("input",{type:"hidden",name:"content[entity_name]",value:b,ref:U({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[user_name]",value:t.name,ref:U({required:!0})})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Message"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Invitation message",ref:U({required:!0})}),B.content&&Object(d.jsx)("p",{className:"error",children:"Invitation message is required*"})]}),Object(d.jsx)("input",{type:"hidden",name:"type",defaultValue:"trainee_invite",ref:U({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"orgId",defaultValue:V,ref:U({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create & Send Invitation"})]}):Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:M(G),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user",className:"form-label",children:"Select Trainer"}),C.length>0?Object(d.jsx)(Re.a,{options:C,onChange:function(e){e?k.filter((function(t){return t.id===e.value})).map((function(e){p(e.name),N(e.phone),w(e.email)})):(p(""),N(""),w(""))}}):""]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"content[name]",defaultValue:b||"",ref:U({required:!0}),placeholder:"Name"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"content[phone]",className:"form-control",defaultValue:f||"",ref:U({required:!0}),placeholder:"Phone"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"content[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"content[email]",className:"form-control disabledTextInput",defaultValue:y||"",ref:U({required:!0}),placeholder:"Email"}),B.content&&Object(d.jsx)("p",{className:"error",children:"Email is required*"}),Object(d.jsx)("input",{type:"hidden",name:"content[entity_name]",value:b,ref:U({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"content[user_name]",value:t.name,ref:U({required:!0})})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Message"}),Object(d.jsx)("textarea",{name:"content[message]",id:"cover",className:"form-control",placeholder:"Invitation message",ref:U({required:!0})}),B.content&&Object(d.jsx)("p",{className:"error",children:"Invitation message is required*"})]}),Object(d.jsx)("input",{type:"hidden",name:"type",defaultValue:"trainer_invite",ref:U({required:!0})}),Object(d.jsx)("input",{type:"hidden",name:"orgId",defaultValue:V,ref:U({required:!0})})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Invitation"})]})]})})]})})),Ge=s(9),ze=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchFetchAllOrgAdminsAction:function(t){return e(Ue(t))},dispatchCreateOrgAction:function(t,s,c,r,a,n,i,l,o){return e(function(e,t,s){console.log(e),e.user.password=Z.generate(6,{upperCase:!1,specialChars:!1});var c=new FormData;return e.key_people&&(e.key_people=JSON.stringify(e.key_people)),e.user&&(e.user=JSON.stringify(e.user)),e.logo&&(e.logo=e.logo[0]),Object.keys(e).map((function(t){c.append(t,e[t])})),{type:p,payload:{method:"POST",url:"orgs",data:c,success:function(e){return ee(e.data)},postProcessSuccess:t,postProcessError:s}}}({name:t,logo:s,shortDesc:c,description:r,user:a,address:n,key_people:i},l,o))}}}))((function(e){var t=e.dispatchCreateOrgAction,s=e.dispatchFetchAllOrgAdminsAction,r=Object(c.useState)(""),a=Object(X.a)(r,2),n=a[0],i=a[1],l=Object(c.useState)(""),o=Object(X.a)(l,2),j=o[0],u=o[1],m=Object(c.useState)(""),b=Object(X.a)(m,2),p=b[0],O=b[1],x=Object(c.useState)(!1),f=Object(X.a)(x,2),N=f[0],g=f[1],v=Object(c.useState)([]),y=Object(X.a)(v,2),w=y[0],_=y[1],S=Object(c.useState)(),C=Object(X.a)(S,2),A=C[0],T=C[1],E=Object(ae.a)(),q=E.register,F=E.handleSubmit,I=E.errors;if(Object(c.useEffect)((function(){!w.length>0&&s((function(e){T(e.data)}))}),[]),A&&A.length>0){var P=A.map((function(e){return{label:e.name,value:e.id}}));!w.length>0&&(console.log(P),_(P))}var k=function(e){return console.log(e),t(e.name,e.logo,e.shortDesc,e.description,e.user,e.address,L,(function(e){e&&setTimeout((function(){return window.location.replace("/orgs")}),300),h.c.success("Organization Created Successfully!")}),(function(e){return h.c.error(e)})),!1},D=Object(c.useState)([{name:null,designation:null}]),V=Object(X.a)(D,2),L=V[0],R=V[1];function U(){var e=Object(Ge.a)(L);e.push({name:null,designation:null}),R(e)}function M(e){var t=Object(Ge.a)(L);t.splice(e,1),R(t)}function B(e,t){var s=Object(Ge.a)(L);s[e].name=t.target.value,R(s)}function G(e,t){var s=Object(Ge.a)(L);s[e].designation=t.target.value,R(s)}return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title",children:"Create Organization"}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("button",{onClick:function(e){g(!N)},className:"btn btn-success mb-3 pull-right",children:N?"Send Request To Existing Org Admin":"Add With New Org Admin"}),N?Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:F(k),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Organization name",ref:q({required:!0})}),I.name&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"logo",className:"form-label",children:"Logo"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"logo",name:"logo",ref:q})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"shortDesc",className:"form-label",children:"Short Description"}),Object(d.jsx)("textarea",{name:"shortDesc",id:"shortDesc",className:"form-control",placeholder:"Short Description",ref:q({required:!0})}),I.shortDesc&&Object(d.jsx)("p",{className:"error",children:"Short Desc is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{name:"description",id:"description",className:"form-control",placeholder:"Description",ref:q({required:!0})}),I.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",id:"address",className:"form-control",placeholder:"Organization Address",ref:q({required:!0})}),I.address&&Object(d.jsx)("p",{className:"error",children:"Address is required*"})]}),L.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Key Person #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return M(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.name||"",onChange:function(e){return B(t,e)},placeholder:"Key Person Name"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Designation"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.designation||"",onChange:function(e){return G(t,e)},placeholder:"Key Person Designation"})]})]},"".concat(e,"-").concat(t))})),Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return U()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Key Person"]})}),Object(d.jsxs)("div",{className:"org_admin_wrapper p-3",children:[Object(d.jsx)("strong",{className:"m-2",children:"Add Organization Admin"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"user[name]",defaultValue:n||"",ref:q({required:!0})}),I.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"user[phone]",className:"form-control",defaultValue:j||"",ref:q({required:!0})}),I.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"user[email]",className:"form-control",defaultValue:p||"",ref:q({required:!0})}),I.user&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}):Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:F(k),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Organization name",ref:q({required:!0})}),I.name&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"logo",className:"form-label",children:"Logo"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"logo",name:"logo",ref:q})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"shortDesc",className:"form-label",children:"Short Description"}),Object(d.jsx)("textarea",{name:"shortDesc",id:"shortDesc",className:"form-control",placeholder:"Short Description",ref:q({required:!0})}),I.shortDesc&&Object(d.jsx)("p",{className:"error",children:"Short Desc is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{name:"description",id:"description",className:"form-control",placeholder:"Description",ref:q({required:!0})}),I.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",id:"address",className:"form-control",placeholder:"Organization Address",ref:q({required:!0})}),I.address&&Object(d.jsx)("p",{className:"error",children:"Address is required*"})]}),L.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Key Person #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return M(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.name||"",onChange:function(e){return B(t,e)},placeholder:"Key Person Name"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Designation"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.designation||"",onChange:function(e){return G(t,e)},placeholder:"Key Person Designation"})]})]},"".concat(e,"-").concat(t))})),Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return U()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Key Person"]})}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user",className:"form-label",children:"Select Admin"}),w.length>0?Object(d.jsx)(Re.a,{options:w,onChange:function(e){e?A.filter((function(t){return t.id===e.value})).map((function(e){i(e.name),u(e.phone),O(e.email)})):(i(""),u(""),O(""))}}):""]}),Object(d.jsxs)("div",{className:"org_admin_wrapper p-3",children:[Object(d.jsx)("strong",{className:"m-2",children:"Add Organization Admin"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[name]",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"user[name]",defaultValue:n||"",ref:q({required:!0})}),I.content&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[phone]",className:"form-label",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"user[phone]",className:"form-control",defaultValue:j||"",ref:q({required:!0})}),I.content&&Object(d.jsx)("p",{className:"error",children:"Phone is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"user[email]",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"text",name:"user[email]",className:"form-control",defaultValue:p||"",ref:q({required:!0})}),I.user&&Object(d.jsx)("p",{className:"error",children:"Email is required*"})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]})]})})]})})),Qe=s(52),$e=s.n(Qe);s(41);var Ye=Object(m.b)(null,(function(e){return{dispatchCreateCourseAction:function(t,s,c,r,a,n,i,l,o,d){return e(function(e,t,s){var c=new FormData;return e.published="1"===e.published,e.banner&&(e.banner=e.banner[0]),Object.keys(e).map((function(t){c.append(t,e[t])})),{type:p,payload:{method:"POST",url:"courses",data:c,success:function(e){return Pe(e.data)},postProcessSuccess:t,postProcessError:s}}}({orgId:t,title:s,banner:c,shortDesc:r,description:a,objective:n,passing_mark:i,published:l},o,d))},dispatchGetOrgByIdAction:function(t,s){return e(ce(t,s))}}}))((function(e){e.props;var t=e.dispatchCreateCourseAction,s=e.match,r=e.dispatchGetOrgByIdAction,a=Object(ae.a)(),n=a.register,i=a.handleSubmit,l=a.errors,o=Object(c.useState)(""),j=Object(X.a)(o,2),u=j[0],m=j[1],b=Object(c.useState)(""),p=Object(X.a)(b,2),O=p[0],x=p[1],f=s.params.orgId,N=Object(c.useState)(""),g=Object(X.a)(N,2),v=g[0],y=g[1];return Object(c.useEffect)((function(){f&&r(f,(function(e){console.log(e),v||y(e.data.name)}))}),[r,s.params]),Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Course Builder For The Organization ",v||""]}),Object(d.jsx)("div",{className:"multi_step_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"request_form",children:Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:i((function(e){return t(f,e.title,e.banner,e.shortDesc,u,O,e.passing_mark,e.published,(function(e){e&&setTimeout((function(){return window.location.replace("/course_builder/edit/"+e.data.id)}),300),h.c.success("Course Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",children:"Course Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter Course Title",ref:n({required:!0})}),l.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"banner",children:"Course Banner"}),Object(d.jsx)("input",{type:"file",className:"form-control",id:"banner",name:"banner",ref:n({required:!0})}),l.banner&&Object(d.jsx)("p",{className:"error",children:"Banner is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"shortDesc",children:"Short Description"}),Object(d.jsx)("textarea",{className:"form-control",id:"shortDesc",name:"shortDesc",rows:"3",ref:n({required:!0})}),l.shortDesc&&Object(d.jsx)("p",{className:"error",children:"Short Description is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"description",children:"Course Description"}),Object(d.jsx)($e.a,{theme:"snow",name:"description",onChange:m}),u?"":"Please Enter Some Description"]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"objective",children:"Course Objective"}),Object(d.jsx)($e.a,{theme:"snow",name:"objective",ref:n({required:!0}),onChange:x}),O?"":"Please Enter Some Objective"]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"passing_mark",children:"Passing Mark"}),Object(d.jsx)("input",{type:"number",className:"form-control",id:"passing_mark",name:"passing_mark",ref:n({required:!0})}),l.passing_mark&&Object(d.jsx)("p",{className:"error",children:"Passing Mark is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"published",children:"Status"}),Object(d.jsxs)("select",{className:"form-control ",name:"published",ref:n({required:!0}),children:[Object(d.jsx)("option",{value:"1",children:"Published"}),Object(d.jsx)("option",{value:"0",children:"Draft"})]}),l.published&&Object(d.jsx)("p",{className:"error",children:"Status is required*"})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]})})})})]})})),Ke=function(e){return{type:C,payload:e}},We=function(e,t,s){return{type:p,payload:{method:"GET",url:"categories",data:e,success:function(e){return Je(e.data)},postProcessSuccess:t,postProcessError:s}}},Je=function(e){return{type:S,payload:e}},He=Object(m.b)((function(e){return{categories:e.categories,loading:e.loading}}),(function(e){return{dispatchFetchAllCategoriesAction:function(){return e(We())},dispatchCreateCategoryAction:function(t,s,c,r){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"categories",data:e,success:function(e){return Ke(e.data)},postProcessSuccess:t,postProcessError:s}}}({name:t,description:s},c,r))}}}))((function(e){e.loading;var t=e.categories,s=e.dispatchFetchAllCategoriesAction,r=e.dispatchCreateCategoryAction,a=Object(c.useState)([]),n=Object(X.a)(a,2),i=n[0],l=n[1],o=Object(c.useState)(""),j=Object(X.a)(o,2);j[0],j[1];if(t.length>0){var u=t.map((function(e){return{label:e.name,value:e.id}}));!i.length>0&&l(u)}Object(c.useEffect)((function(){s()}),[]);var m=Object(ae.a)(),b=m.register,p=m.handleSubmit,O=m.errors;return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title",children:"Create Category "}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"request_form",children:Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:p((function(e){return r(e.name,e.description,(function(e){e&&setTimeout((function(){return window.location.replace("/categories")}),300),h.c.success("Category Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",children:"Category name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",id:"name",placeholder:"Enter Category name",ref:b({required:!0})}),O.name&&Object(d.jsx)("p",{className:"error",children:"Category name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"description",children:"Short Description"}),Object(d.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"3",ref:b({required:!0}),className:"form-control"}),O.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create Category"})]})})})]})})),Xe=s(13);s(294);var Ze=Object(m.b)((function(e){return{loading:e.loading,categories:e.categories}}),(function(e){return{dispatchFetchAllCategoriesAction:function(t,s){return e(We(t,s))},dispatchCategoryAssociate:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"categories/associate",data:e.category,postProcessSuccess:t,postProcessError:s}}}({category:t},s,c))}}}))((function(e){var t=e.course,s=e.categories,r=e.dispatchFetchAllCategoriesAction,a=e.dispatchCategoryAssociate,n=Object(c.useState)([]),i=Object(X.a)(n,2),l=i[0],o=i[1],j=Object(c.useState)([]),u=Object(X.a)(j,2),m=u[0],b=u[1];if(s.length>0){var p=s.filter((function(e){return null===e.parentId})).map((function(e){return{label:e.name,value:e.id}}));!l.length>0&&o(p)}return Object(c.useEffect)((function(){r((function(e){console.log("Categories Loaded")}),(function(e){return h.c.error(e)}))}),[r]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["Assign Category To ",t.title]}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:function(e,s){var c={entityType:"Course",entityId:parseInt(t.id),categoryId:m};return e.preventDefault(),a(c,(function(){h.c.success("Category Associated To Successfully!")}),(function(e){return h.c.error(e)})),!1},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"parentId",className:"form-label",children:"Select Category"}),l.length>0?Object(d.jsx)(Re.a,{options:l,onChange:function(e){e&&b(e.value)},defaultValue:t.Categories.length?{label:t.Categories[0].name,value:t.Categories[0].id}:null}):""]}),Object(d.jsx)("input",{type:"hidden",value:t.id,name:"entityId"}),Object(d.jsx)("input",{type:"hidden",value:"Course",name:"entityType"}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Assign"})})]})]})})),et=s(11),tt=s.n(et),st=s(19),ct=function(e,t,s){return{type:p,payload:{method:"GET",url:"chapters",data:e,success:function(e){return at(e.data)},postProcessSuccess:t,postProcessError:s}}},rt=function(e){return{type:F,payload:e}},at=function(e){return{type:q,payload:e}},nt=function(e,t,s,c){return{type:p,payload:{method:"PUT",url:"exams/".concat(e),data:t,postProcessSuccess:s,postProcessError:c}}},it=function(e,t){return{type:I,payload:{chapterId:e,data:t}}},lt=function(e){return{type:"REMOVE_CHAPTER",payload:e}},ot=function(e,t,s){return{type:p,payload:{method:"DELETE",url:"exams/".concat(e),postProcessSuccess:t,postProcessError:s}}};var dt=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchEditChapterAction:function(t,s,c,r,a,n,i){return e(function(e,t,s,c){return{type:p,payload:{method:"PUT",url:"chapters/".concat(e),data:t,success:function(t){return it(e,t.data)},postProcessSuccess:s,postProcessError:c}}}(t,{title:s,instructions:c,course_weight:r,course_id:a},n,i))}}}))((function(e){var t=e.selectedChapter,s=e.dispatchEditChapterAction,c=e.course,r=Object(ae.a)(),a=r.register,n=r.handleSubmit,i=r.errors;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"modal",id:"editModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header text-right d-block",children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){document.getElementById("editform").reset()},children:Object(d.jsx)("i",{className:"fas fa-times"})})}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:n((function(e){return s(t.id,e.title,e.instructions,e.course_weight,c.id,(function(e){setTimeout((function(){return window.location.replace("/course_builder/edit/"+c.id+"/2")}),300),window.$("#editModal").modal("hide"),h.c.success("Chapters Updated Successfully!")}),(function(e){window.$("#editModal").modal("hide"),h.c.error("Error: ".concat(e))})),!1})),encType:"multipart/form-data",id:"editform",children:[Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Title",className:"form-control",name:"title",defaultValue:t.title,ref:a({required:!0})}),i.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Instructions"}),Object(d.jsx)("textarea",{cols:"30",rows:"10",name:"instructions",className:"form-control",ref:a({required:!0}),defaultValue:t.instructions,placeholder:"Enter Instruction"}),i.instructions&&Object(d.jsx)("p",{className:"error",children:"Instructions are required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Course Weight"}),Object(d.jsx)("input",{type:"number",placeholder:"2",className:"form-control",name:"course_weight",defaultValue:t.course_weight,ref:a({required:!0})}),i.course_weight&&Object(d.jsx)("p",{className:"error",children:"Course Weight is required*"}),Object(d.jsx)("small",{children:"Course Weight Will Be Use to calculate the percentage of course completion from this chapter. Put value from 1 - 10"})]})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})})]})]})})})})}));var jt=Object(m.b)((function(e){return{categories:e.categories,loading:e.loading}}),(function(e){return{dispatchCreateChapterAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"chapters/create",data:e,postProcessSuccess:t,postProcessError:s}}}({chapters:t},s,c))},dispatchDeleteChapterAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"DELETE",url:"chapters/".concat(e),success:function(){return lt(e)},postProcessSuccess:t,postProcessError:s}}}(t,s,c))}}}))((function(e){var t=e.course,s=e.dispatchCreateChapterAction,r=e.dispatchDeleteChapterAction,a=Object(c.useState)([{title:null,instructions:null,course_weight:null,courseId:t.id}]),n=Object(X.a)(a,2),i=n[0],l=n[1],j=Object(c.useState)(),u=Object(X.a)(j,2),m=u[0],b=u[1],p=Object(c.useState)(),O=Object(X.a)(p,2),x=O[0],f=O[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["Create Chapters For ",t.title]}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:function(e,c){return e.preventDefault(),s(i,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/2")}),300),h.c.success("Chapters Created Successfully!")}),(function(e){return h.c.error(e)})),!1},encType:"multipart/form-data",children:[i.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Title",className:"form-control",value:e.title||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(i);s[e].title=t.target.value,l(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Instruction"}),Object(d.jsx)("textarea",{cols:"30",rows:"10",className:"form-control",value:e.instructions||"",placeholder:"Enter Instruction",onChange:function(e){return function(e,t){var s=Object(Ge.a)(i);s[e].instructions=t.target.value,l(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Course Weight"}),Object(d.jsx)("input",{type:"number",placeholder:"2",className:"form-control",value:e.course_weight||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(i);s[e].course_weight=t.target.value,l(s)}(t,e)}}),Object(d.jsx)("small",{children:"Course Weight Will Be Use to calculate the percentage of course completion from this chapter. Put value from 1 - 10"})]})]},"".concat(e,"-").concat(t))})),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(d.jsxs)("h2",{className:"form_heading",children:[t.title,"'s Chapters"]}),t.Chapters.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Chapter Title"}),Object(d.jsx)("th",{children:"Chapter Materials"}),Object(d.jsx)("th",{children:"Chapter Exams"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.Chapters.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:e.Files.length?e.Files.map((function(e){return Object(d.jsx)("div",{className:"badge badge-info m-1",children:e.title})})):"No File"}),Object(d.jsx)("td",{children:e.Exams.length?e.Exams.map((function(e){return Object(d.jsx)("div",{className:"badge badge-info",children:e.title})})):"No Exam"}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(o.a,{to:"#",className:"btn btn-danger tbl_btn ",onClick:function(t){return s=t,c=e.id,s.preventDefault(),f(c),void window.$("#confirmationModal").modal("show");var s,c},children:"Delete"}),Object(d.jsx)(o.a,{to:"#",target:"_blank",className:"btn btn-primary tbl_btn ml-2 mr-2",onClick:function(){var t=Object(st.a)(tt.a.mark((function t(s){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,b(e);case 3:window.$("#editModal").modal({backdrop:"static",keyboard:!1,show:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Edit"}),Object(d.jsx)(o.a,{to:"/chapters/".concat(t.id,"/").concat(e.id),target:"_blank",className:"btn btn-dark tbl_btn",children:"Preview"})]})})]})}))})]})}):Object(d.jsx)(ie,{}),m?Object(d.jsx)(dt,{selectedChapter:m,course:t}):"",Object(d.jsx)(ut,{handleOnDelete:function(){r(x,(function(){window.$("#confirmationModal").modal("hide"),setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/2")}),300),h.c.success("Chapter deleted Successfully!")}),(function(e){window.$("#confirmationModal").modal("hide"),h.c.error("Error: ".concat(e))}))}})]})})),ut=function(e){var t=e.handleOnDelete;return Object(d.jsx)("div",{className:"modal",id:"confirmationModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h5",{className:"modal-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("p",{children:"Are you sure, you want to delete this Chapter ?"})}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",children:"No"}),Object(d.jsx)("button",{type:"button","data-dismiss":"modal",onClick:t,className:"btn btn-primary",children:"Yes"})]})]})})})},mt=function(e){e.props;return Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"orgs_list my-5",children:Object(d.jsx)(ie,{})})})})};var bt=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchEditFileAction:function(t,s,c,r,a,n){return e(function(e,t,s,c){var r=new FormData;return t.file&&(t.file=t.file[0]),Object.keys(t).map((function(e){r.append(e,t[e])})),{type:p,payload:{method:"PUT",url:"files/".concat(e),data:r,postProcessSuccess:s,postProcessError:c}}}(t,{title:s,description:c,file:r},a,n))}}}))((function(e){var t=e.selectedFile,s=e.dispatchEditFileAction,c=e.course,r=Object(ae.a)(),a=r.register,n=r.handleSubmit,i=r.errors;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"modal",id:"editFileModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header text-right d-block",children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){document.getElementById("editfileform").reset()},children:Object(d.jsx)("i",{className:"fas fa-times"})})}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:n((function(e){return s(t.id,e.title,e.description,e.file,(function(e){setTimeout((function(){return window.location.replace("/course_builder/edit/"+c.id+"/3")}),300),window.$("#editFileModal").modal("hide"),h.c.success("File Updated Successfully!")}),(function(e){window.$("#editFileModal").modal("hide"),h.c.error("Error: ".concat(e))})),!1})),id:"editfileform",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:a({required:!0}),defaultValue:t.title}),i.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{className:"form-control",name:"description",id:"description",placeholder:"Enter Description",ref:a({required:!0}),defaultValue:t.description}),i.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"file",className:"form-label",children:"File"}),Object(d.jsx)("input",{type:"file",className:"form-control",name:"file",id:"file",ref:a}),Object(d.jsxs)("strong",{children:["Uploaded File Link: ",Object(d.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url})]}),i.file&&Object(d.jsx)("p",{className:"error",children:"File is required*"})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})})]})]})})})})}));var ht=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchFetchAllChaptersAction:function(t,s,c){return e(ct({},s,c))},dispatchCreateFileAction:function(t,s,c,r,a,n){return e(function(e,t,s){var c=new FormData;return e.file&&(e.file=e.file[0]),Object.keys(e).map((function(t){c.append(t,e[t])})),{type:p,payload:{method:"POST",url:"chapters/".concat(e.chapter,"/upload"),data:c,postProcessSuccess:t,postProcessError:s}}}({chapter:t,title:s,description:c,file:r},a,n))},dispatchDeleteFileAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"DELETE",url:"files/".concat(e),postProcessSuccess:t,postProcessError:s}}}(t,s,c))}}}))((function(e){var t=e.course,s=e.dispatchFetchAllChaptersAction,r=e.dispatchCreateFileAction,a=e.dispatchDeleteFileAction,n=Object(c.useState)([]),i=Object(X.a)(n,2),l=i[0],j=i[1],u=Object(ae.a)(),m=u.register,b=u.handleSubmit,p=u.errors,O=Object(c.useState)([]),x=Object(X.a)(O,2),f=x[0],N=x[1],g=Object(c.useState)(),v=Object(X.a)(g,2),y=v[0],w=v[1],_=Object(c.useState)(),S=Object(X.a)(_,2),C=S[0],A=S[1];return Object(c.useEffect)((function(){s([],(function(e){var s=e.data;if(s&&s.length>0){var c=s.filter((function(e){return null===e.parentId&&e.courseId===t.id})).map((function(e){return{label:e.title,value:e.id}}));!l.length>0&&j(c)}}),(function(e){return h.c.error(e)}))}),[s,t.id,l.length]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{className:"form_heading",children:"Add Materials / Files For Individual Chapter"}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:b((function(e){return r(f,e.title,e.description,e.file,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/3")}),300),h.c.success("Files Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"parentId",className:"form-label",children:"Select Chapter"}),l.length>0?Object(d.jsx)(Re.a,{options:l,onChange:function(e){e&&N(e.value)}}):""]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:m({required:!0})}),p.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{className:"form-control",name:"description",id:"description",placeholder:"Enter Description",ref:m({required:!0})}),p.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"file",className:"form-label",children:"File"}),Object(d.jsx)("input",{type:"file",className:"form-control",name:"file",id:"file",ref:m({required:!0})}),p.file&&Object(d.jsx)("p",{className:"error",children:"File is required*"})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(d.jsxs)("h2",{className:"form_heading",children:[t.title,"'s Chapter's Materials"]}),t.Chapters.length?t.Chapters.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("table",{className:"table table-bordered",children:Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{className:"text-center",children:e.title})})})}),e.Files.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"File Title"}),Object(d.jsx)("th",{children:"File Url"}),Object(d.jsx)("th",{children:"File Type"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:e.Files.map((function(s){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:s.title}),Object(d.jsx)("td",{children:Object(d.jsx)("a",{href:s.url,target:"_blank",children:s.url})}),Object(d.jsx)("td",{children:s.type}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(o.a,{to:"#",className:"btn btn-danger tbl_btn ",onClick:function(e){return t=e,c=s.id,t.preventDefault(),A(c),void window.$("#confirmationFileModal").modal("show");var t,c},children:"Delete"}),Object(d.jsx)(o.a,{to:"#",target:"_blank",className:"btn btn-primary tbl_btn ml-2 mr-2",onClick:function(){var e=Object(st.a)(tt.a.mark((function e(t){return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w(s);case 3:window.$("#editFileModal").modal({backdrop:"static",keyboard:!1,show:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Edit"}),Object(d.jsx)(o.a,{to:"/chapters/".concat(t.id,"/").concat(e.id),target:"_blank",className:"btn btn-dark tbl_btn",children:"Preview"})]})})]})}))})]})}):Object(d.jsx)(mt,{})]})})):Object(d.jsx)(ie,{}),y?Object(d.jsx)(bt,{selectedFile:y,course:t}):"",Object(d.jsx)(pt,{handleOnDelete:function(){a(C,(function(){window.$("#confirmationModal").modal("hide"),setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/3")}),300),h.c.success("File deleted Successfully!")}),(function(e){window.$("#confirmationModal").modal("hide"),h.c.error("Error: ".concat(e))}))}})]})})),pt=function(e){var t=e.handleOnDelete;return Object(d.jsx)("div",{className:"modal",id:"confirmationFileModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h5",{className:"modal-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("p",{children:"Are you sure, you want to delete this Chapter Material ?"})}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",children:"No"}),Object(d.jsx)("button",{type:"button","data-dismiss":"modal",onClick:t,className:"btn btn-primary",children:"Yes"})]})]})})})};var Ot=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchUpdateExamAction:function(t,s,c,r,a,n){return e(nt(t,{examId:t,title:s,type:c,questions:r},a,n))}}}))((function(e){var t=e.selectedExam,s=e.dispatchUpdateExamAction,r=e.course,a=Object(ae.a)(),n=a.register,i=a.handleSubmit,l=a.errors,o=Object(c.useState)(t.questions),j=Object(X.a)(o,2),u=j[0],m=j[1],b=function(){document.getElementById("editexamform").reset()};return t.questions.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"modal",id:"editExamModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:b,children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:i((function(e){return s(t.id,e.title,e.type,u,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+r.id+"/4")}),300),h.c.success("Exam Updated Successfully!")}),(function(e){return h.c.error(e)})),!1})),id:"editexamform",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:n({required:!0}),defaultValue:t.title}),l.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",ref:n({required:!0}),value:"chapter_exam"}),l.type&&Object(d.jsx)("p",{className:"error",children:"Exam Type is required*"})]}),u&&u.length?u.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Question #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(Ge.a)(u);t.splice(e,1),m(t)}(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Question"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Question",className:"form-control",value:e.question||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].question=t.target.value,m(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Answer Type"}),Object(d.jsxs)("select",{name:"answerType",className:"form-control",defaultValue:u[t]&&u[t].answerType?u[t].answerType:e.answerType,onClick:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].answerType=t,m(s)}(t,e.target.value)},children:[Object(d.jsx)("option",{value:"radio",children:"Single"}),Object(d.jsx)("option",{value:"checkbox",children:"Multiple"})]}),Object(d.jsx)("small",{children:"Select Whither This Question Has Multiple Answer or Not"})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("label",{className:"form-label",children:"Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter Each option on new line",className:"form-control",value:e.answers?e.answers.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].answers=t.target.value,s[e].answers=s[e].answers.split("\n"),m(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter Each option on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.answers&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.answers.length?e.answers.map((function(e,t){return Object(d.jsxs)("p",{children:["Option ",t+1,") ",e]})})):e.answers})})]})]})}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-8",children:[Object(d.jsx)("label",{className:"form-label",children:"Correct Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter correct answer. For Multiple answers, put each answer on new line",className:"form-control",value:e.correctAnswer?e.correctAnswer.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].correctAnswer=t.target.value,s[e].correctAnswer=s[e].correctAnswer.split("\n"),m(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter correct answer. For Multiple answers, put each answer on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.correctAnswer&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.correctAnswer.length?e.correctAnswer.map((function(e,t){return Object(d.jsxs)("p",{children:["Answer ",t+1,") ",e]})})):e.correctAnswer})})]})]})})]},"".concat(e,"-").concat(t))})):"Waiting To Load",Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return function(){var e=Object(Ge.a)(u);e.push({question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}),m(e)}()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Question"]})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})})]}),Object(d.jsx)("div",{className:"modal-footer text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:b,children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})})]})})})}):"Waiting To Load"}));var xt=Object(m.b)((function(e){return{loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchAllChaptersAction:function(t,s,c){return e(ct({},s,c))},dispatchCreateExamAction:function(t,s,c,r,a,n,i,l){return e(function(e,t,s){return{type:p,payload:{method:"POST",url:"exams",data:e,postProcessSuccess:t,postProcessError:s}}}({courseId:t,chapterId:s,creatorId:c,title:r,type:a,questions:n},i,l))},dispatchDeleteExamAction:function(t,s,c){return e(ot(t,s,c))}}}))((function(e){var t=e.course,s=e.user,r=e.dispatchFetchAllChaptersAction,a=e.dispatchCreateExamAction,n=e.dispatchDeleteExamAction,i=Object(c.useState)([]),l=Object(X.a)(i,2),j=l[0],u=l[1],m=Object(ae.a)(),b=m.register,p=m.handleSubmit,O=m.errors,x=Object(c.useState)([]),f=Object(X.a)(x,2),N=f[0],g=f[1],v=Object(c.useState)(),y=Object(X.a)(v,2),w=y[0],_=y[1],S=Object(c.useState)([{question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}]),C=Object(X.a)(S,2),A=C[0],T=C[1],E=Object(c.useState)(),q=Object(X.a)(E,2),F=q[0],I=q[1];return Object(c.useEffect)((function(){r([],(function(e){var s=e.data;if(s&&s.length>0){var c=s.filter((function(e){return null===e.parentId&&e.courseId===t.id})).map((function(e){return{label:e.title,value:e.id}}));!j.length>0&&u(c)}}),(function(e){return h.c.error(e)}))}),[r,t.id,j.length]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{className:"form_heading",children:"Create Exam For Individual Chapter"}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:p((function(e){return a(t.id,N,s.userId,e.title,e.type,A,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/4")}),300),h.c.success("Exam Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"parentId",className:"form-label",children:"Select Chapter"}),j.length>0?Object(d.jsx)(Re.a,{options:j,onChange:function(e){e&&g(e.value)}}):""]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:b({required:!0})}),O.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",ref:b({required:!0}),value:"chapter_exam"}),O.type&&Object(d.jsx)("p",{className:"error",children:"Exam Type is required*"})]}),A.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Question #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(Ge.a)(A);t.splice(e,1),T(t)}(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Question"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Question",className:"form-control",value:e.question||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(A);s[e].question=t.target.value,s[e].number=e,T(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Answer Type"}),Object(d.jsxs)("select",{name:"answerType",className:"form-control",value:e.answerType||"radio",onChange:function(e){return function(e,t){var s=Object(Ge.a)(A);s[e].answerType=t.target.value,T(s)}(t,e)},children:[Object(d.jsx)("option",{value:"radio",children:"Single"}),Object(d.jsx)("option",{value:"checkbox",children:"Multiple"})]}),Object(d.jsx)("small",{children:"Select Whither This Question Has Multiple Answer or Not"})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-8",children:[Object(d.jsx)("label",{className:"form-label",children:"Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter Each option on new line",className:"form-control",value:e.answers?e.answers.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(A);s[e].answers=t.target.value,s[e].answers=s[e].answers.split("\n"),T(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter Each option on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.answers&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.answers.length?e.answers.map((function(e,t){return Object(d.jsxs)("p",{children:["Option ",t+1,") ",e]})})):e.answers})})]})]})}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-8",children:[Object(d.jsx)("label",{className:"form-label",children:"Correct Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter correct answer. For Multiple answers, put each answer on new line",className:"form-control",value:e.correctAnswer?e.correctAnswer.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(A);s[e].correctAnswer=t.target.value,s[e].correctAnswer=s[e].correctAnswer.split("\n"),T(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter correct answer. For Multiple answers, put each answer on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.correctAnswer&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.correctAnswer.length?e.correctAnswer.map((function(e,t){return Object(d.jsxs)("p",{children:["Answer ",t+1,") ",e]})})):e.correctAnswer})})]})]})})]},"".concat(e,"-").concat(t))})),Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return function(){var e=Object(Ge.a)(A);e.push({question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}),T(e)}()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Question"]})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(d.jsxs)("h2",{className:"form_heading",children:[t.title,"'s Chapter's Exams"]}),t.Chapters.length?t.Chapters.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("table",{className:"table table-bordered",children:Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{className:"text-center",children:e.title})})})}),e.Exams.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Exam Title"}),Object(d.jsx)("th",{children:"Question(s)"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:e.Exams.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.title}),Object(d.jsxs)("td",{children:[e.questions.length," Question(s)"]}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(o.a,{to:"#",className:"btn btn-danger tbl_btn ",onClick:function(t){return s=t,c=e.id,s.preventDefault(),_(c),void window.$("#confirmationExamModal").modal("show");var s,c},children:"Delete"}),Object(d.jsx)(o.a,{to:"#",target:"_blank",className:"btn btn-primary tbl_btn ml-2 mr-2",onClick:function(){var t=Object(st.a)(tt.a.mark((function t(s){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,I(e);case 3:window.$("#editExamModal").modal({backdrop:"static",keyboard:!1,show:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Edit"}),Object(d.jsx)(o.a,{to:"/exam_submission/".concat(e.id,"/preview"),target:"_blank",className:"btn btn-dark tbl_btn",children:"Preview"}),Object(d.jsx)(o.a,{to:"/submissions/".concat(e.id),target:"_blank",className:"btn btn-success tbl_btn ml-2",children:"All Submissions"})]})})]})}))})]})}):Object(d.jsx)(mt,{})]})})):Object(d.jsx)(ie,{}),F?Object(d.jsx)(Ot,{selectedExam:F,course:t}):"",Object(d.jsx)(ft,{handleOnDelete:function(){n(w,(function(){window.$("#confirmationModal").modal("hide"),setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/4")}),300),h.c.success("Exam deleted Successfully!")}),(function(e){window.$("#confirmationModal").modal("hide"),h.c.error("Error: ".concat(e))}))}})]})})),ft=function(e){var t=e.handleOnDelete;return Object(d.jsx)("div",{className:"modal",id:"confirmationExamModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h5",{className:"modal-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("p",{children:"Are you sure, you want to delete this Chapter Exam ?"})}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",children:"No"}),Object(d.jsx)("button",{type:"button","data-dismiss":"modal",onClick:t,className:"btn btn-primary",children:"Yes"})]})]})})})};var Nt=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchUpdateExamAction:function(t,s,c,r,a,n){return e(nt(t,{title:s,description:c,file:r},a,n))}}}))((function(e){var t=e.selectedEvaluation,s=e.dispatchUpdateExamAction,r=e.course,a=Object(ae.a)(),n=a.register,i=a.handleSubmit,l=a.errors,o=Object(c.useState)(t.questions),j=Object(X.a)(o,2),u=j[0],m=j[1],b=function(){document.getElementById("editevaluationform").reset()};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"modal",id:"editEvaluationModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:b,children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:i((function(e){return s(t.id,e.title,e.type,u,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+r.id+"/5")}),300),h.c.success("Evaluation Updated Successfully!")}),(function(e){return h.c.error(e)})),!1})),id:"editevaluationform",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:n({required:!0}),defaultValue:t.title}),l.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",ref:n({required:!0}),value:"chapter_exam"}),l.type&&Object(d.jsx)("p",{className:"error",children:"Exam Type is required*"})]}),u&&u.length?u.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Question #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(Ge.a)(u);t.splice(e,1),m(t)}(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Question"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Question",className:"form-control",value:e.question||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].question=t.target.value,m(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Answer Type"}),Object(d.jsxs)("select",{name:"answerType",className:"form-control",defaultValue:u[t]&&u[t].answerType?u[t].answerType:e.answerType,onClick:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].answerType=t.target.value,m(s)}(t,e.target.value)},children:[Object(d.jsx)("option",{value:"radio",children:"Single"}),Object(d.jsx)("option",{value:"checkbox",children:"Multiple"})]}),Object(d.jsx)("small",{children:"Select Whither This Question Has Multiple Answer or Not"})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("label",{className:"form-label",children:"Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter Each option on new line",className:"form-control",value:e.answers?e.answers.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].answers=t.target.value,s[e].answers=s[e].answers.split("\n"),m(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter Each option on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.answers&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.answers.length?e.answers.map((function(e,t){return Object(d.jsxs)("p",{children:["Option ",t+1,") ",e]})})):e.answers})})]})]})}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("label",{className:"form-label",children:"Correct Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter correct answer. For Multiple answers, put each answer on new line",className:"form-control",value:e.correctAnswer?e.correctAnswer.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(u);s[e].correctAnswer=t.target.value,s[e].correctAnswer=s[e].correctAnswer.split("\n"),m(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter correct answer. For Multiple answers, put each answer on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.correctAnswer&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.correctAnswer.length?e.correctAnswer.map((function(e,t){return Object(d.jsxs)("p",{children:["Answer ",t+1,") ",e]})})):e.correctAnswer})})]})]})})]},"".concat(e,"-").concat(t))})):"Waiting To Load",Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return function(){var e=Object(Ge.a)(u);e.push({question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}),m(e)}()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Question"]})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})})]}),Object(d.jsx)("div",{className:"modal-footer text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:b,children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})})]})})})})}));var gt=Object(m.b)((function(e){return{loading:e.loading,user:e.user}}),(function(e){return{dispatchCreateEvaluationAction:function(t,s,c,r,a,n,i){return e(function(e,t){return e.questions=e.questions.map((function(e){return{answers:e.answers.map((function(e){return e.trim()})),correctAnswer:e.correctAnswer.map((function(e){return e.trim()})),answerType:e.answerType,question:e.question,number:e.number}})),{type:p,payload:{method:"POST",url:"exams",data:e,postProcessSuccess:t}}}({courseId:t,creatorId:s,title:c,type:r,questions:a},n))},dispatchDeleteEvaluationAction:function(t,s,c){return e(ot(t,s,c))}}}))((function(e){var t=e.course,s=e.user,r=e.dispatchCreateEvaluationAction,a=e.dispatchDeleteEvaluationAction,n=Object(ae.a)(),i=n.register,l=n.handleSubmit,j=n.errors,u=Object(c.useState)(),m=Object(X.a)(u,2),b=m[0],p=m[1],O=Object(c.useState)([{question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}]),x=Object(X.a)(O,2),f=x[0],N=x[1],g=Object(c.useState)(),v=Object(X.a)(g,2),y=v[0],w=v[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["Create Evaluation For ",t.title]}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",encType:"multipart/form-data",onSubmit:l((function(e){return r(t.id,s.userId,e.title,e.type,f,(function(){setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/5")}),300),h.c.success("Evaluation Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter File Title",ref:i({required:!0})}),j.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"}),Object(d.jsx)("input",{type:"hidden",name:"type",ref:i({required:!0}),value:"course_exam"}),j.type&&Object(d.jsx)("p",{className:"error",children:"Exam Type is required*"})]}),f.map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Question #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(Ge.a)(f);t.splice(e,1),N(t)}(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Question"}),Object(d.jsx)("input",{type:"text",placeholder:"Enter Question",className:"form-control",value:e.question||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(f);s[e].question=t.target.value,s[e].number=e,N(s)}(t,e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Answer Type"}),Object(d.jsxs)("select",{name:"answerType",className:"form-control",value:e.answerType||"radio",onChange:function(e){return function(e,t){var s=Object(Ge.a)(f);s[e].answerType=t.target.value,N(s)}(t,e)},children:[Object(d.jsx)("option",{value:"radio",children:"Single"}),Object(d.jsx)("option",{value:"checkbox",children:"Multiple"})]}),Object(d.jsx)("small",{children:"Select Whither This Question Has Multiple Answer or Not"})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-8",children:[Object(d.jsx)("label",{className:"form-label",children:"Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter Each option on new line",className:"form-control",value:e.answers?e.answers.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(f);s[e].answers=t.target.value,s[e].answers=s[e].answers.split("\n"),N(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter Each option on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.answers&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.answers.length?e.answers.map((function(e,t){return Object(d.jsxs)("p",{children:["Option ",t+1,") ",e]})})):e.answers})})]})]})}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)("div",{className:"row opt_wrapper",children:[Object(d.jsxs)("div",{className:"col-md-8",children:[Object(d.jsx)("label",{className:"form-label",children:"Correct Option(s)"}),Object(d.jsx)("textarea",{placeholder:"Enter correct answer. For Multiple correct answer, put each answer on new line",className:"form-control",value:e.correctAnswer?e.correctAnswer.join("\n"):"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(f);s[e].correctAnswer=t.target.value,s[e].correctAnswer=s[e].correctAnswer.split("\n"),N(s)}(t,e)},rows:10}),Object(d.jsxs)("small",{children:[Object(d.jsx)("i",{className:"fas fa-info-circle"})," Enter correct answer. For Multiple answers, put each answer on new line"]})]}),Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("span",{children:"Options Preview "}),e.correctAnswer&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"preview_option",children:e.correctAnswer.length?e.correctAnswer.map((function(e,t){return Object(d.jsxs)("p",{children:["Answer ",t+1,") ",e]})})):e.correctAnswer})})]})]})})]},"".concat(e,"-").concat(t))})),Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return function(){var e=Object(Ge.a)(f);e.push({question:null,number:null,answerType:"radio",answers:null,correctAnswer:null}),N(e)}()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Question"]})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(d.jsxs)("h2",{className:"form_heading",children:[t.title,"'s Evaluations"]}),t.Exams.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Exam Title"}),Object(d.jsx)("th",{children:"Question(s)"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.Exams.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.title}),Object(d.jsxs)("td",{children:[e.questions.length," Question(s)"]}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(o.a,{to:"#",className:"btn btn-danger tbl_btn ",onClick:function(t){return s=t,c=e.id,s.preventDefault(),p(c),void window.$("#confirmationEvaluationModal").modal("show");var s,c},children:"Delete"}),Object(d.jsx)(o.a,{to:"#",target:"_blank",className:"btn btn-primary tbl_btn ml-2 mr-2",onClick:function(){var t=Object(st.a)(tt.a.mark((function t(s){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,w(e);case 3:window.$("#editEvaluationModal").modal({backdrop:"static",keyboard:!1,show:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Edit"}),Object(d.jsx)(o.a,{to:"/exam_submission/".concat(e.id,"/preview"),target:"_blank",className:"btn btn-dark tbl_btn",children:"Preview"}),Object(d.jsx)(o.a,{to:"/submissions/".concat(e.id),target:"_blank",className:"btn btn-success tbl_btn ml-2",children:"All Submissions"})]})})]})}))})]})}):Object(d.jsx)(mt,{}),y?Object(d.jsx)(Nt,{selectedEvaluation:y,course:t}):"",Object(d.jsx)(vt,{handleOnDelete:function(){a(b,(function(){window.$("#confirmationModal").modal("hide"),setTimeout((function(){return window.location.replace("/course_builder/edit/"+t.id+"/5")}),300),h.c.success("Evaluation deleted Successfully!")}),(function(e){window.$("#confirmationModal").modal("hide"),h.c.error("Error: ".concat(e))}))}})]})})),vt=function(e){var t=e.handleOnDelete;return Object(d.jsx)("div",{className:"modal",id:"confirmationEvaluationModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h5",{className:"modal-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("p",{children:"Are you sure, you want to delete this Course Evaluation?"})}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",children:"No"}),Object(d.jsx)("button",{type:"button","data-dismiss":"modal",onClick:t,className:"btn btn-primary",children:"Yes"})]})]})})})};var yt=function(e){var t=e.course;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["All Trainees For ",t.title]}),t.Trainees.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Image"}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Phone"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.Trainees.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.pic?Object(d.jsx)("img",{src:e.pic,height:"100px",width:"100px",className:"img-circle"}):Object(d.jsx)("i",{className:"fas fa-user"})}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.phone}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.address}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{className:"d-flex",children:Object(d.jsx)(o.a,{to:"/profile_view/".concat(e.id),target:"_blank",className:"btn btn-dark tbl_btn",children:"View Profile"})})})]})}))})]})}):Object(d.jsx)(ie,{})]})};var wt=function(e){var t=e.course;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["All Trainers For ",t.title]}),t.Trainers.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Image"}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Phone"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.Trainers.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.pic?Object(d.jsx)("img",{src:e.pic,height:"100px",width:"100px",className:"img-circle"}):Object(d.jsx)("i",{className:"fas fa-user"})}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.phone}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.address}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{className:"d-flex",children:Object(d.jsx)(o.a,{to:"/profile_view/".concat(e.id),target:"_blank",className:"btn btn-dark tbl_btn",children:"View Profile"})})})]})}))})]})}):Object(d.jsx)(ie,{})]})};var _t=Object(m.b)((function(e){return{loading:e.loading,course:e.courses.course}}),(function(e){return{dispatchUpdateCourseAction:function(t,s,c,r,a,n,i,l,o,d){return e(function(e,t,s,c){var r=new FormData;return t.banner&&(t.banner=t.banner[0]),Object.keys(t).map((function(e){r.append(e,t[e])})),{type:p,payload:{method:"PUT",url:"courses/".concat(e),data:r,postProcessSuccess:s,postProcessError:c}}}(t,{title:s,banner:c,shortDesc:r,description:a,objective:n,passing_mark:i,published:l},o,d))},dispatchGetCourseByIdAction:function(t,s,c){return e(Ie(t,s,c))}}}))((function(e){var t=e.match,s=e.dispatchUpdateCourseAction,r=e.dispatchGetCourseByIdAction,a=e.course,n=Object(ae.a)(),i=n.register,l=n.handleSubmit,o=n.errors,j=Object(c.useState)(""),u=Object(X.a)(j,2),m=u[0],b=u[1],p=Object(c.useState)(""),O=Object(X.a)(p,2),x=O[0],f=O[1],N=Object(c.useState)(""),g=Object(X.a)(N,2),v=g[0],y=g[1],w=t.params,_=w.courseId,S=w.activeTab;return Object(c.useEffect)((function(){r(_,(function(){console.log("Course Loaded")}),(function(e){return h.c.error(e)}))}),[_,r]),a?Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Course Builder For The Course ",a&&a.title]}),Object(d.jsx)("div",{className:"multi_step_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"request_form course_update_tabs",children:Object(d.jsxs)(Xe.d,{defaultIndex:parseInt(S),children:[Object(d.jsxs)(Xe.b,{children:[Object(d.jsx)(Xe.a,{children:"Course Details"}),Object(d.jsx)(Xe.a,{children:"Assign Category"}),Object(d.jsx)(Xe.a,{children:"Chapters"}),Object(d.jsx)(Xe.a,{children:"Chapter Materials"}),Object(d.jsx)(Xe.a,{children:"Chapter Exam"}),Object(d.jsx)(Xe.a,{children:"Course Evaluation"}),Object(d.jsx)(Xe.a,{children:"Trainees"}),Object(d.jsx)(Xe.a,{children:"Trainers"})]}),Object(d.jsxs)(Xe.c,{children:[Object(d.jsxs)("h2",{className:"form_heading",children:["Course Details Of ",a&&a.title]}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:l((function(e){return s(_,e.title,e.banner,e.shortDesc,x,v,e.passing_mark,e.published,(function(){h.c.success("Course Updated Successfully!"),Ae.replace("/course_builder/edit/"+_+"/0")}),(function(e){return h.c.error(e)})),!1})),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"title",children:"Course Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter Course Title",ref:i({required:!0}),defaultValue:a&&a.title}),o.title&&Object(d.jsx)("p",{className:"error",children:"Title is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"banner",children:"Course Banner"}),Object(d.jsx)("input",{type:"file",className:"form-control",id:"banner",name:"banner",ref:i}),Object(d.jsx)("div",{className:"preview",children:a&&a.banner?Object(d.jsx)("div",{className:"preview",children:Object(d.jsx)("img",{src:a.banner,alt:a.name})}):""}),o.banner&&Object(d.jsx)("p",{className:"error",children:"Banner is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"shortDesc",children:"Short Description"}),Object(d.jsx)("textarea",{className:"form-control",id:"shortDesc",name:"shortDesc",rows:"3",ref:i({required:!0}),defaultValue:a&&a.shortDesc}),o.shortDesc&&Object(d.jsx)("p",{className:"error",children:"Short Description is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"description",children:"Course Description"}),Object(d.jsx)($e.a,{name:"description",onChange:f,defaultValue:a?a.description:x}),x?"":"Please Enter Some Description"]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"objective",children:"Course Objective"}),Object(d.jsx)($e.a,{theme:"snow",name:"objective",ref:i({required:!0}),onChange:y,defaultValue:a?a.objective:v}),v?"":"Please Enter Some Objective"]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"passing_mark",children:"Passing Mark"}),Object(d.jsx)("input",{type:"number",className:"form-control",id:"passing_mark",name:"passing_mark",ref:i({required:!0}),defaultValue:a&&a.passing_mark}),o.passing_mark&&Object(d.jsx)("p",{className:"error",children:"Passing Mark is required*"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"published",children:"Status"}),Object(d.jsxs)("select",{className:"form-control ",name:"published",ref:i({required:!0}),defaultValue:a?a.published:m,onChange:function(e){return b(e.target.selectedOptions[0].value)},children:[Object(d.jsx)("option",{value:!0,children:"Published"}),Object(d.jsx)("option",{value:!1,children:"Draft"})]}),o.published&&Object(d.jsx)("p",{className:"error",children:"Status is required*"})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Course Details"})})]})]}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(Ze,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(jt,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(ht,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(xt,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(gt,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(yt,{course:a})}),Object(d.jsx)(Xe.c,{children:Object(d.jsx)(wt,{course:a})})]})})})})]}):"Loading"})),St=Object(m.b)((function(e){return{categories:e.categories,loading:e.loading,user:e.user}}),(function(e){return{dispatchFetchAllCategoriesAction:function(){return e(We())}}}))((function(e){e.loading;var t=e.categories,s=e.dispatchFetchAllCategoriesAction,r=(e.user,e.dispatchGetSingleUserAction,Object(c.useState)("")),a=Object(X.a)(r,2),n=a[0],i=a[1];Object(c.useEffect)((function(){return s()}),[s]);var l=t.filter((function(e){return""===n||e.name.toLowerCase().includes(n.toLowerCase())?e:[]}));return Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title ",children:"All Listed Categories"}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"orgs_list",children:Object(d.jsxs)("div",{className:"card-group row ",children:[Object(d.jsx)("div",{className:"col-12 p-3",children:Object(d.jsx)("div",{className:"filter_section",children:Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Enter Keyword To Search...",className:"form-control",onChange:function(e){i(e.target.value)}})})})}),l.length>0?l.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.name}),Object(d.jsx)("p",{className:"card-text",children:e.description})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Created on ",e.createdAt]})}),Object(d.jsx)("div",{className:"card-footer btns",children:Object(d.jsx)("a",{className:"join_link btn_remove",children:"Delete"})})]},e.id)})):Object(d.jsx)(ie,{})]})})})]})})),Ct=Object(m.b)((function(e){return console.log(),{loading:e.loading,single_user:e.users.single_user}}),(function(e){return{dispatchGetSingleUserByIdAction:function(t,s){return e(Q(t,s))}}}))((function(e){e.loading;var t=e.match,s=e.dispatchGetSingleUserByIdAction,r=e.single_user,a=t.params.userId;return Object(c.useEffect)((function(){s(a,(function(e){console.log(e)}))}),[]),r?Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"single_page",children:[Object(d.jsx)("div",{className:"page_header",children:Object(d.jsxs)("center",{children:[Object(d.jsx)("img",{src:r.pic?r.pic:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",className:"org_logo"}),Object(d.jsx)("h3",{className:"media-heading",children:r.name}),Object(d.jsxs)("a",{target:"_blank",href:r.cv,className:"btn btn-primary",children:[" Cv Of ",r.name]})]})}),Object(d.jsx)("div",{className:"course_media row"}),Object(d.jsx)("div",{className:"page_body",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-4 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"name",children:r.phone}),Object(d.jsx)("div",{className:"name",children:r.email}),Object(d.jsx)("div",{className:"name",children:r.address})]})})})}),Object(d.jsx)("div",{className:"col-8 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:r.bio}})})})]})}),"Trainer"===r.Roles[0].name&&r.TrainerCourses&&r.TrainerCourses>0?Object(d.jsx)("div",{className:"page_cards",children:Object(d.jsx)("div",{className:"orgs_list",children:Object(d.jsx)("div",{className:"card-group row ",children:Object(d.jsxs)("div",{className:"page_cards mt-5",children:[Object(d.jsx)("h4",{className:"page_title",children:"Courses Provided By This User"}),r.TrainerCourses&&r.TrainerCourses>0?Object(d.jsx)(ye,{courses:r.TrainerCourses,user:r}):""]})})})}):""]})})}):"Loading"})),At=s(105),Tt=s.n(At),Et=s(62),qt=s.n(Et),Ft=Object(m.b)((function(e){return{loading:e.loading,user:e.user,chapters:e.chapters.chapters,chapter:e.chapters.chapter,TrainerCoursesList:e.users.TrainerCoursesList,TraineeCoursesList:e.users.TraineeCoursesList}}),(function(e){return{dispatchGetChapterByIdAction:function(t){return e(function(e,t,s){return{type:p,payload:{method:"GET",url:"chapters/".concat(e),success:function(e){return rt(e.data)},postProcessSuccess:t,postProcessError:s}}}(t))},dispatchFetchAllChaptersAction:function(){return e(ct())},dispatchFetchCurrentUserAction:function(t,s){return e($(t,s))}}}))((function(e){var t=e.match,s=e.dispatchGetChapterByIdAction,r=e.chapter,a=e.chapters,n=e.user,i=e.dispatchFetchAllChaptersAction,l=e.loading,o=e.dispatchFetchCurrentUserAction,j=e.TrainerCoursesList,u=e.TraineeCoursesList,m=t.params,b=m.chapterId,p=m.courseId;Object(c.useEffect)((function(){s(b)}),[s]),Object(c.useEffect)((function(){i()}),[i]),Object(c.useEffect)((function(){o(n.userId,(function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[o,n.userId]);var O=j&&j.concat(u);return!l&&r&&O&&O.includes(parseInt(p))?Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",id:"chapters_list",children:[Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsxs)("li",{className:"nav-item dropdown",children:[Object(d.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Chapters"}),Object(d.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:a&&a.filter((function(e){return e.courseId==r.courseId})).map((function(e){return Object(d.jsx)("a",{className:"dropdown-item",href:"/chapters/"+p+"/"+e.id,children:e.title},e.id)}))})]})}),Object(d.jsx)("h2",{className:"chapter_title",children:r.title}),Object(d.jsx)("a",{className:"back_to_main_course btn view_btn join_link mr-2",href:"/courses/"+r.courseId,children:"Back to Course Details"}),r.Exams&&r.Exams.length?Object(d.jsx)("a",{className:"back_to_main_course btn  join_link",href:"/exam_submission/"+r.Exams[0].id,children:" Take Exam "}):""]})]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"single_page",children:[Object(d.jsx)(Xe.d,{className:"chapter_file_wrapper",children:Object(d.jsxs)("div",{className:"course_media row",children:[Object(d.jsx)("div",{className:"video_player col-md-9",children:r.Files&&r.Files.map((function(e){switch(e.type){case"video":case"audio":return Object(d.jsx)(Xe.c,{children:Object(d.jsx)(Tt.a,{url:e?e.url:"",controls:!0,width:"100%",height:"500px"})});case"document":default:return Object(d.jsx)(Xe.c,{children:Object(d.jsx)(qt.a,{pluginRenderers:Et.DocViewerRenderers,documents:[{uri:e.url}]})})}}))}),Object(d.jsx)("div",{className:"col-md-3",children:Object(d.jsx)(Xe.b,{children:r.Files&&r.Files.map((function(e){switch(e.type){case"video":return Object(d.jsxs)(Xe.a,{children:[Object(d.jsx)("i",{className:"fas fa-play"})," ",e.title]});case"audio":return Object(d.jsxs)(Xe.a,{children:[Object(d.jsx)("i",{className:"fas fa-music"})," ",e.title]});case"document":default:return Object(d.jsxs)(Xe.a,{children:[Object(d.jsx)("i",{className:"fas fa-file"})," ",e.title]})}}))})})]})}),Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Instructions"}),Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsx)("div",{className:"desc_block",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:r.instructions}})})})]})}),Object(d.jsx)("div",{className:"col-12 p-3 description_single_course",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"media-heading",children:"Comments"}),Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsxs)("div",{className:"comments",children:[Object(d.jsxs)("div",{className:"single_person comment_single",children:[Object(d.jsx)("div",{className:"parent_comment",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})}),Object(d.jsx)("div",{className:"single_person comment_single",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})})]}),Object(d.jsxs)("div",{className:"single_person comment_single",children:[Object(d.jsx)("div",{className:"parent_comment",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})}),Object(d.jsx)("div",{className:"single_person comment_single",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:"ghgh"})}),Object(d.jsxs)("div",{className:"name",children:["John Doe",Object(d.jsx)("span",{children:"2 days ago"})]}),Object(d.jsxs)("div",{className:"designation",children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto consequatur consequuntur delectus hic, iste labore modi molestias, natus nobis nostrum optio provident qui repellat repudiandae rerum saepe velit, voluptate.",Object(d.jsx)("a",{href:"/profile_view/",children:"Reply"})]})]})})]})]})})]})})]})})]}):Object(d.jsx)(mt,{})})),It=Object(m.b)((function(e){return{loading:e.loading,TraineeCoursesList:e.users.TraineeCoursesList,user:e.user}}),(function(e){return{dispatchGetExamByIdAction:function(t,s){return e(function(e,t){return{type:p,payload:{method:"GET",url:"exams/".concat(parseInt(e)),postProcessSuccess:t}}}(t,s))},dispatchExamSubmissionAction:function(t,s,c){return e(function(e,t){return e.answers=e.answers.length&&e.answers.map((function(e){return{number:parseInt(e.number),answer:e.answer}})),{type:p,payload:{method:"POST",url:"submissions",data:e,postProcessSuccess:t}}}({examId:t,answers:s},c))},dispatchFetchCurrentUserAction:function(t,s){return e($(t,s))}}}))((function(e){e.loading;var t=e.match,s=e.dispatchGetExamByIdAction,r=e.dispatchExamSubmissionAction,a=e.dispatchFetchCurrentUserAction,n=e.TraineeCoursesList,i=e.user,l=Object(c.useState)(""),o=Object(X.a)(l,2),j=o[0],u=o[1],m=t.params.examId,b=t.params.preview;Object(c.useEffect)((function(){s(m,(function(e){u(e.data)}))}),[]);var p=Object(ae.a)(),O=p.register,x=p.handleSubmit,f=p.errors;Object(c.useEffect)((function(){a(i.userId,(function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[a,i.userId]);var N=j&&j.courseId?j.courseId:null;return b&&"preview"===b||n&&n.length&&N&&n.includes(N)?Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsx)("h2",{className:"page_title",children:"Submission Form"}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:j.title})}),Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:x((function(e){return r(m,e.answers,(function(){setTimeout((function(){return window.location.replace("/exam_submission/"+m)}),300),h.c.success("Your answers Submitted Successfully!")})),!1})),children:[Object(d.jsxs)("div",{className:"mb-3 exam_form_wrapper",children:[f.answers&&Object(d.jsx)("p",{className:"alert alert-danger ",children:"You are required to answer all the questions*"}),j.questions&&j.questions.map((function(e,t){return Object(d.jsxs)("div",{className:"single_question",children:[Object(d.jsx)("span",{className:"question",children:e.question}),Object(d.jsx)("input",{className:"form-check-input",type:"hidden",name:"answers["+e.number+"][number]",value:e.number,ref:O({required:!0})}),e.answers&&e.answers.map((function(s,c){return Object(d.jsx)(d.Fragment,{children:"radio"==e.answerType?Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input",type:"radio",name:"answers["+e.number+"][answer]",id:"option-"+c+"-"+t,value:s,ref:O({required:!0})}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"option-"+c+"-"+t,children:s})]}):Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input",type:"checkbox",value:s,id:"option-"+c+"-"+t,name:"answers["+e.number+"][answer]",ref:O({required:!0})}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"option-"+c+"-"+t,children:s})]})})}))]})}))]}),"preview"!==b?Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}):""]})]})})]}):Object(d.jsx)(mt,{})})),Pt=Object(m.b)((function(e){return{loading:e.loading,single_user:e.users.single_user}}),(function(e){return{dispatchGetUserByIdAction:function(t){return e(Q(t))}}}))((function(e){e.loading;var t=e.single_user,s=e.match,r=e.dispatchGetUserByIdAction,a=s.params.userId;return Object(c.useEffect)((function(){r(a)}),[]),t?Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"single_page",children:[Object(d.jsx)("div",{className:"page_header",children:Object(d.jsxs)("center",{children:[Object(d.jsx)("img",{src:t.pic?t.pic:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",className:"org_logo"}),Object(d.jsx)("h3",{className:"media-heading",children:t.name}),Object(d.jsxs)("a",{target:"_blank",href:t.cv,className:"btn btn-primary",children:[" Cv Of ",t.name]})]})}),Object(d.jsx)("div",{className:"course_media row"}),Object(d.jsx)("div",{className:"page_body",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-4 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"single_card_elem",children:Object(d.jsxs)("div",{className:"person_meta",children:[Object(d.jsx)("div",{className:"name",children:t.phone}),Object(d.jsx)("div",{className:"name",children:t.email}),Object(d.jsx)("div",{className:"name",children:t.address})]})})})}),Object(d.jsx)("div",{className:"col-8 p-3",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:t.bio}})})})]})}),"Trainer"===t.Roles[0].name&&t.TrainerCourses&&t.TrainerCourses>0?Object(d.jsx)("div",{className:"page_cards",children:Object(d.jsx)("div",{className:"orgs_list",children:Object(d.jsx)("div",{className:"card-group row ",children:Object(d.jsxs)("div",{className:"page_cards mt-5",children:[Object(d.jsx)("h4",{className:"page_title",children:"Courses Provided By This User"}),t.TrainerCourses&&t.TrainerCourses>0?Object(d.jsx)(ye,{courses:t.TrainerCourses,user:t}):""]})})})}):""]})})}):Object(d.jsx)(mt,{})}));var kt=Object(m.b)((function(e){return{loading:e.loading}}))((function(e){var t=e.selectedSubmission;return t?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"modal",id:"viewSubmissionModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})}),Object(d.jsxs)("div",{className:"modal-body submission_details",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Exam Title:"})," ",t.Exam.title]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Submitter:"})," ",t.User.name]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Score:"})," ",t.score]}),Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:"Answers:"})}),Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Question Number"}),Object(d.jsx)("th",{children:"Question"}),Object(d.jsx)("th",{children:"Given Answer(s)"})]})}),Object(d.jsx)("tbody",{children:t.answers.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.number}),Object(d.jsx)("td",{children:e.question}),Object(d.jsx)("td",{children:e.answer.map((function(e){return Object(d.jsx)("p",{children:e})}))})]})}))})]})]}),Object(d.jsx)("div",{className:"modal-footer text-right d-block",children:Object(d.jsxs)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:[Object(d.jsx)("i",{className:"fas fa-times"})," Close"]})})]})})})}):"Waiting To Load"})),Dt=Object(m.b)((function(e){return{loading:e.loading}}),(function(e){return{dispatchGetExamSubmissionsAction:function(t,s){return e(function(e,t){return{type:p,payload:{method:"POST",url:"submissions/filtered",data:{examId:e},postProcessSuccess:t}}}(t,s))}}}))((function(e){e.loading;var t=e.match,s=e.dispatchGetExamSubmissionsAction,r=Object(c.useState)(),a=Object(X.a)(r,2),n=a[0],i=a[1],l=t.params.examId,j=Object(c.useState)(),u=Object(X.a)(j,2),m=u[0],b=u[1];return Object(c.useEffect)((function(){s(l,(function(e){i(e.data)}))}),[]),Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["All Submissions For ",l]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsxs)("div",{className:"request_form",children:[n&&n.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Exam Title"}),Object(d.jsx)("th",{children:"Submitter Name"}),Object(d.jsx)("th",{children:"Score"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:n.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.Exam.title}),Object(d.jsx)("td",{children:e.User.name}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{className:"badge badge-info",children:e.score})}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(o.a,{to:"#",target:"_blank",className:"btn btn-primary tbl_btn ml-2 mr-2",onClick:function(){var t=Object(st.a)(tt.a.mark((function t(s){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,b(e);case 3:window.$("#viewSubmissionModal").modal({backdrop:"static",keyboard:!1,show:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"View Details"}),Object(d.jsx)(o.a,{to:"/exam_submission/".concat(e.examId,"/preview"),target:"_blank",className:"btn btn-dark tbl_btn",children:"Preview Exam"})]})})]})}))})]})}):Object(d.jsx)(mt,{}),m?Object(d.jsx)(kt,{selectedSubmission:m}):""]})})]})}));var Vt=function(e){return Object(d.jsx)("div",{className:"col-12 p-3",children:Object(d.jsx)("div",{className:"filter_section",children:Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Enter Keyword To Search...",className:"form-control",onChange:e.onChange})})})})},Lt=Object(m.b)((function(e){return{loading:e.loading,current_user:e.users.current_user,user:e.user}}),(function(e){return{dispatchFetchCurrentUserAction:function(t,s){return e($(t,s))},dispatchDeleteCourseAction:function(t,s,c){return e(function(e,t,s){return{type:p,payload:{method:"DELETE",url:"courses/".concat(e),postProcessSuccess:t,postProcessError:s}}}(t,s,c))}}}))((function(e){var t=e.dispatchFetchCurrentUserAction,s=e.current_user,r=e.user,a=e.dispatchDeleteCourseAction,n=Object(c.useState)(""),i=Object(X.a)(n,2),l=i[0],j=i[1];Object(c.useEffect)((function(){t(r.userId,(function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[t,r.userId]);var u=function(){a(l,(function(){window.$("#confirmationModal").modal("hide"),setTimeout((function(){return window.location.replace("/mycourses/"+r.userId)}),300),h.c.success("Course deleted Successfully!")}),(function(e){window.$("#confirmationModal").modal("hide"),h.c.error("Error: ".concat(e))}))},m=function(e,t){e.preventDefault(),j(t),window.$("#confirmationModal").modal("show")},b=Object(c.useState)(""),p=Object(X.a)(b,2),O=p[0],x=p[1],f=[];return f="Trainee"===r.role?s&&s.TraineeCourses.length&&s.TraineeCourses.filter((function(e){return""===O||e.title.toLowerCase().includes(O.toLowerCase())?e:void 0})):s&&s.TrainerCourses.length&&s.TrainerCourses.filter((function(e){return""===O||e.title.toLowerCase().includes(O.toLowerCase())?e:void 0})),s?Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsxs)("div",{children:["Trainee"===r.role?Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"page_title",children:"My Courses"}),Object(d.jsx)(Vt,{onChange:function(e){x(e.target.value)}}),Object(d.jsx)("div",{className:"main_content row",children:f.length>0?f.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img",children:Object(d.jsx)("img",{className:"card-img-top",src:e.banner?e.banner:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:e.title})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.title}),Object(d.jsx)("p",{className:"card-text",children:e.shortDesc})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Published ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsxs)("div",{className:"card-footer btns",children:[Object(d.jsx)(o.a,{to:"/course_builder/edit/".concat(e.id),className:"join_link ",children:"Edit"}),Object(d.jsx)(o.a,{to:"/trainee_invite/".concat(e.id),className:"join_link",children:"Invite"}),Object(d.jsx)(o.a,{to:"#",className:"join_link ",onClick:function(t){return m(t,e.id)},children:"Delete"}),Object(d.jsx)(o.a,{to:"/courses/".concat(e.id),className:"join_link view_btn",children:"View"})]}),Object(d.jsx)(Rt,{handleOnDelete:u})]},e.id)})):Object(d.jsx)(ie,{})})]}):"","Trainer"===r.role||"Organization Admin"===r.role?Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"page_title",children:"My Courses"}),Object(d.jsx)(Vt,{onChange:function(e){x(e.target.value)}}),Object(d.jsx)("div",{className:"main_content row",children:f.length>0?f.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img",children:Object(d.jsx)("img",{className:"card-img-top",src:e.banner?e.banner:"https://stitch-api-storage-prod.s3.ap-south-1.amazonaws.com/1616589205883.png",alt:e.title})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.title}),Object(d.jsx)("p",{className:"card-text",children:e.shortDesc})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Published ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsxs)("div",{className:"card-footer btns",children:[Object(d.jsx)(o.a,{to:"/course_builder/edit/".concat(e.id),className:"join_link ",children:"Edit"}),Object(d.jsx)(o.a,{to:"/trainee_invite/".concat(e.id),className:"join_link",children:"Invite"}),Object(d.jsx)(o.a,{to:"#",className:"join_link ",onClick:function(t){return m(t,e.id)},children:"Delete"}),Object(d.jsx)(o.a,{to:"/courses/".concat(e.id),className:"join_link view_btn",children:"View"})]}),Object(d.jsx)(Rt,{handleOnDelete:u})]},e.id)})):Object(d.jsx)(ie,{})})]}):""]})}):"Loading"})),Rt=function(e){var t=e.handleOnDelete;return Object(d.jsx)("div",{className:"modal",id:"confirmationModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{role:"document",className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h5",{className:"modal-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("p",{children:"Are you sure, you want to delete this Course ?"})}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",children:"No"}),Object(d.jsx)("button",{type:"button","data-dismiss":"modal",onClick:t,className:"btn btn-primary",children:"Yes"})]})]})})})},Ut=Object(m.b)((function(e){return{loading:e.loading,current_user:e.users.current_user,user:e.user}}),(function(e){return{dispatchFetchCurrentUserAction:function(t,s){return e($(t,s))}}}))((function(e){var t=e.dispatchFetchCurrentUserAction,s=e.current_user,r=e.user;Object(c.useEffect)((function(){t(r.userId,(function(e){console.log("Courses Loaded")}),(function(e){return h.c.error(e)}))}),[t,r.userId]);var a=Object(c.useState)(""),n=Object(X.a)(a,2),i=n[0],l=n[1],j=[];return j="Trainer"===r.role||"Organization Admin"===r.role?s&&s.Orgs.length&&s.Orgs.filter((function(e){return""===i||e.title.toLowerCase().includes(i.toLowerCase())?e:void 0})):[],s?Object(d.jsx)("div",{className:"right_wrapper",children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"page_title",children:"My Organizations"}),Object(d.jsx)(Vt,{onChange:function(e){l(e.target.value)}}),Object(d.jsx)("div",{className:"main_content",children:j.length>0?j.map((function(e){return Object(d.jsxs)("div",{className:"col-4 p-3",children:[Object(d.jsx)("div",{className:"card_img org_logo",children:Object(d.jsx)("img",{className:"card-img-top",src:e.logo,alt:e.name})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.name}),Object(d.jsx)("p",{className:"card-text",children:e.description})]}),Object(d.jsx)("div",{className:"card-footer pub_time",children:Object(d.jsxs)("small",{className:"text-muted",children:["Created ",Object(d.jsx)(oe.a,{fromNow:!0,ago:!0,children:e.createdAt})," ago"]})}),Object(d.jsxs)("div",{className:"card-footer btns",children:["Organization Admin"===r.role?Object(d.jsx)(o.a,{to:"/edit_org/".concat(e.id),className:"join_link ",children:"Edit"}):"",Object(d.jsx)(o.a,{to:"/course_builder/".concat(e.id),className:"join_link",children:"Create Course"}),"Organization Admin"===r.role?Object(d.jsx)(o.a,{to:"/trainer_invite/".concat(e.id),className:"join_link invite_btn",children:"Invite Trainer"}):"",Object(d.jsx)(o.a,{to:"/orgs/".concat(e.id),className:"join_link view_btn",children:"View"})]})]},e.id)})):Object(d.jsx)(ie,{})})]})})}):"Loading"})),Mt=Object(m.b)((function(e){return console.log(e),{loading:e.loading,org:e.orgs.org}}),(function(e){return{dispatchFetchAllOrgAdminsAction:function(t){return e(Ue(t))},dispatchUpdateOrgAction:function(t,s,c,r,a,n,i,l,o){return e(function(e,t,s,c){var r=new FormData;return t.key_people&&(t.key_people=JSON.stringify(t.key_people)),t.user&&(t.user=JSON.stringify(t.user)),t.logo&&(t.logo=t.logo[0]),Object.keys(t).map((function(e){r.append(e,t[e])})),{type:p,payload:{method:"PUT",url:"orgs/"+parseInt(e),data:r,postProcessSuccess:s,postProcessError:c}}}(t,{name:s,logo:c,shortDesc:r,description:a,address:n,key_people:i},l,o))},dispatchGetOrgByIdAction:function(t,s,c){return e(ce(t,s,c))}}}))((function(e){var t=e.match,s=e.dispatchFetchAllOrgAdminsAction,r=e.dispatchGetOrgByIdAction,a=e.dispatchUpdateOrgAction,n=e.org,i=Object(c.useState)([]),l=Object(X.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)(),m=Object(X.a)(u,2),b=m[0],p=m[1],O=Object(c.useState)(),x=Object(X.a)(O,2),f=x[0],N=x[1],g=t.params.orgId,v=Object(ae.a)(),y=v.register,w=v.handleSubmit,_=v.errors;if(Object(c.useEffect)((function(){!o.length>0&&s((function(e){p(e.data)}))}),[]),Object(c.useEffect)((function(){r(g,(function(e){N(e.data.key_people)}),(function(e){return h.c.error(e)}))}),[g,r]),b&&b.length>0){var S=b.map((function(e){return{label:e.name,value:e.id}}));!o.length>0&&j(S)}return n?Object(d.jsxs)("div",{className:"right_wrapper",children:[Object(d.jsxs)("h2",{className:"page_title",children:["Edit ",n.name]}),Object(d.jsx)("div",{className:"main_content",children:Object(d.jsx)("div",{className:"request_form",children:Object(d.jsxs)("form",{noValidate:!0,className:"p-4",onSubmit:w((function(e){return a(g,e.name,e.logo,e.shortDesc,e.description,e.address,f,(function(e){e&&setTimeout((function(){return window.location.replace("/orgs")}),300),h.c.success("Organization Created Successfully!")}),(function(e){return h.c.error(e)})),!1})),encType:"multipart/form-data",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Organization name",ref:y({required:!0}),defaultValue:n.name}),_.name&&Object(d.jsx)("p",{className:"error",children:"Name is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"logo",className:"form-label",children:"Logo"}),Object(d.jsx)("input",{className:"form-control",type:"file",id:"logo",name:"logo",ref:y}),Object(d.jsx)("div",{className:"preview",children:n.logo?Object(d.jsx)("div",{className:"preview",children:Object(d.jsx)("img",{src:n.logo})}):""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"shortDesc",className:"form-label",children:"Short Description"}),Object(d.jsx)("textarea",{name:"shortDesc",id:"shortDesc",className:"form-control",placeholder:"Short Description",ref:y({required:!0}),defaultValue:n.shortDesc}),_.shortDesc&&Object(d.jsx)("p",{className:"error",children:"Short Desc is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{name:"description",id:"description",className:"form-control",placeholder:"Description",ref:y({required:!0}),defaultValue:n.description}),_.description&&Object(d.jsx)("p",{className:"error",children:"Description is required*"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",id:"address",className:"form-control",placeholder:"Organization Address",ref:y({required:!0}),defaultValue:n.address}),_.address&&Object(d.jsx)("p",{className:"error",children:"Address is required*"})]}),f&&Object.values(f).length>0?Object.values(f).map((function(e,t){return Object(d.jsxs)("div",{className:"single_field_wrap",children:[Object(d.jsx)("div",{className:"form-group question_heading text-center",children:Object(d.jsx)("strong",{children:Object(d.jsxs)("h6",{children:["Key Person #",t+1]})})}),0!==t?Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(Ge.a)(Object.values(f));t.splice(e,1),N(t)}(t)},className:"btn btn-danger",children:Object(d.jsx)("i",{className:"fas fa-times"})})}):"",Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.name||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(Object.values(f));s[e].name=t.target.value,N(s)}(t,e)},placeholder:"Key Person Name"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Key Person's Designation"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:e.designation||"",onChange:function(e){return function(e,t){var s=Object(Ge.a)(Object.values(f));s[e].designation=t.target.value,N(s)}(t,e)},placeholder:"Key Person Designation"})]})]},"".concat(e,"-").concat(t))})):"",Object(d.jsx)("div",{className:"mt-2 mb-5 text-right",children:Object(d.jsxs)("button",{type:"button",onClick:function(){return function(){var e=Object(Ge.a)(Object.values(f));e.push({name:null,designation:null}),N(e)}()},className:"btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-plus"})," Add Another Key Person"]})}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})})})]}):Object(d.jsx)(mt,{})})),Bt=function(e){var t=e.user;return Object(d.jsx)(d.Fragment,{children:t?Object(d.jsxs)(H.d,{children:[Object(d.jsx)(H.b,{exact:!0,path:"/",component:ue}),Object(d.jsx)(H.b,{exact:!0,path:"/orgs",component:je}),Object(d.jsx)(H.b,{exact:!0,path:"/myorgs/"+t.userId,component:Ut}),Object(d.jsx)(H.b,{exact:!0,path:"/courses",component:ke}),Object(d.jsx)(H.b,{exact:!0,path:"/mycourses/"+t.userId,component:Lt}),Object(d.jsx)(H.b,{exact:!0,path:"/orgs/:orgId",component:we}),Object(d.jsx)(H.b,{exact:!0,path:"/create_org/",component:ze}),Object(d.jsx)(H.b,{exact:!0,path:"/edit_org/:orgId",component:Mt}),Object(d.jsx)(H.b,{exact:!0,path:"/courses/:courseId",component:Le}),Object(d.jsx)(H.b,{exact:!0,path:"/requests",component:Ee}),Object(d.jsx)(H.b,{exact:!0,path:"/trainer_registration/:orgId",component:ne}),Object(d.jsx)(H.b,{exact:!0,path:"/trainee_registration/:courseId",component:De}),Object(d.jsx)(H.b,{exact:!0,path:"/chapters/:courseId/:chapterId",component:Ft}),Object(d.jsx)(H.b,{exact:!0,path:"/course_builder/edit/:courseId/:activeTab?",component:_t}),Object(d.jsx)(H.b,{exact:!0,path:"/trainee_invite/:courseId",component:Me}),Object(d.jsx)(H.b,{exact:!0,path:"/assign_category/:courseId",component:Ze}),Object(d.jsx)(H.b,{exact:!0,path:"/trainer_invite/:orgId",component:Be}),Object(d.jsx)(H.b,{exact:!0,path:"/course_builder/:orgId",component:Ye}),Object(d.jsx)(H.b,{exact:!0,path:"/exam_submission/:examId/:preview?",component:It}),Object(d.jsx)(H.b,{exact:!0,path:"/profilepage/"+t.userId,component:qe}),Object(d.jsx)(H.b,{exact:!0,path:"/otp",component:xe}),Object(d.jsx)(H.b,{exact:!0,path:"/reset",component:be}),Object(d.jsx)(H.b,{exact:!0,path:"/enteremail",component:pe}),Object(d.jsx)(H.b,{exact:!0,path:"/create_category",component:He}),Object(d.jsx)(H.b,{exact:!0,path:"/categories",component:St}),Object(d.jsx)(H.b,{exact:!0,path:"/submissions/:examId",component:Dt}),Object(d.jsx)(H.b,{exact:!0,path:"/my_account/:activeTab?",component:Pt}),Object(d.jsx)(H.b,{exact:!0,path:"/profile_view/:userId",component:Ct}),Object(d.jsx)(H.a,{to:"/"})]}):Object(d.jsxs)(H.d,{children:[Object(d.jsx)(H.b,{exact:!0,path:"/login",component:ve}),Object(d.jsx)(H.b,{exact:!0,path:"/register",component:Ne}),Object(d.jsx)(H.b,{exact:!0,path:"/otp",component:xe}),Object(d.jsx)(H.b,{exact:!0,path:"/reset",component:be}),Object(d.jsx)(H.b,{exact:!0,path:"/enteremail",component:pe}),Object(d.jsx)(H.a,{to:"/login"})]})})},Gt=Object(m.b)((function(e){return{current_user:e.users.current_user,user:e.user}}),(function(e){return{dispatchLogoutAction:function(){e(G()),h.c.success("You are logged out!")},dispatchGetSingleUserAction:function(t,s){return e($(t,s))}}}))((function(e){e.current_user;var t=e.user,s=e.dispatchLogoutAction,r=e.dispatchGetSingleUserAction,a=JSON.parse(localStorage.getItem("CURRENT_USER")),n=a?a.userId:null;return Object(c.useEffect)((function(){r(n,(function(e){console.log(e)}))}),[r,n]),Object(d.jsxs)("div",{className:a?"":"not_logged_in_wrapper",children:[Object(d.jsx)(J,{user:t,dispatchLogoutAction:s}),Object(d.jsxs)("div",{className:"right_content",children:[Object(d.jsx)(h.b,{position:"top-right",autoClose:2e3,transition:h.a}),Object(d.jsx)(b,{}),Object(d.jsx)(j,{}),Object(d.jsx)(Bt,{user:a}),Object(d.jsx)(u,{})]})]})})),zt=s(42),Qt=s(16),$t={userId:null,phone:null,email:null,bio:null,address:null,name:null,pic:null,cv:null,token:null,role:null,isloggedin:!1,verified_at:null,blocked:!1},Yt=localStorage.getItem("CURRENT_USER"),Kt=Yt?JSON.parse(Yt):$t;var Wt=Object(zt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Qt.a)({},e.payload);case N:return Object(Qt.a)({state:e},t.payload);case f:return Object(Qt.a)({},$t);default:return e}},orgs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{all:t.payload};case _:return Object(Qt.a)(Object(Qt.a)({},e),{},{org:t.payload});case v:return e.concat(t.payload);case y:return e.filter((function(e){return e._id!==t.payload}));case w:return e.map((function(e){return e.__id===t.payload.orgId?Object(Qt.a)(Object(Qt.a)({},e),t.payload.data):e}));case f:return[];default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return!e;default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return t.payload;case f:return[];case B:return"sentByUser"===t.payload.data.data?{sentByUser:e.sentByUser.filter((function(e){return e.id!=t.payload.reqId})),sentToUser:e.sentToUser}:{sentToUser:e.sentToUser.filter((function(e){return e.id!=t.payload.reqId})),sentByUser:e.sentByUser};default:return e}},courses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{all:t.payload};case k:return Object(Qt.a)(Object(Qt.a)({},e),{},{course:t.payload});case R:return e.concat(t.payload);case U:return e.map((function(e){return e.id===t.payload.courseId?Object(Qt.a)({},t.payload.data):e}));case f:return[];case E:return e.filter((function(e){return e.id!==t.payload}));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=[],c=[],r=[];switch(t.type){case D:return Object(Qt.a)(Object(Qt.a)({},e),{},{users:t.payload});case V:return Object(Qt.a)(Object(Qt.a)({},e.users),{},{single_user:t.payload.data});case L:return t.payload.data&&(s=t.payload.data.Orgs.map((function(e){return e.id})),c=t.payload.data.TraineeCourses.map((function(e){return e.id})),r=t.payload.data.TrainerCourses.map((function(e){return e.id}))),Object(Qt.a)(Object(Qt.a)({},e),{},{current_user:t.payload.data,OrgsList:s,TraineeCoursesList:c,TrainerCoursesList:r});case f:return[];default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.payload;case C:return e.concat(t.payload);case A:return e.filter((function(e){return e._id!==t.payload}));case T:return e.map((function(e){return e.__id===t.payload.orgId?Object(Qt.a)(Object(Qt.a)({},e),t.payload.data):e}));case f:return[];default:return e}},chapters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(Qt.a)(Object(Qt.a)({},e),{},{chapters:t.payload});case F:return Object(Qt.a)(Object(Qt.a)({},e),{},{chapter:t.payload});case I:return e.length?e.map((function(e){return e.id===t.payload.chapterId?Object(Qt.a)({},t.payload.data):e})):t.payload.data;case f:return e;case E:return e.filter((function(e){return e.id!==t.payload}));default:return e}}}),Jt=s(79),Ht=function(e){var t=e.dispatch,s=e.getState;return function(e){return function(c){if(c.type!==p)return e(c);t({type:x});var r=s().user.token;r&&(Jt.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"),Jt.defaults.headers.common.Authorization="Bearer ".concat(r);var a=c.payload,n=a.url,i=a.method,l=a.success,o=a.data,d=a.postProcessSuccess,j=a.postProcessError;Jt({method:i,url:"http://65.1.29.149/"+n,data:o||null}).then((function(e){t({type:x}),l&&t(l(e)),d&&setTimeout((function(){return d(e)}),300)})).catch((function(e){console.log(e),t({type:x}),e.response.data.message?j(e.response.data.message):401===e.response.status?t({type:f}):e.response.data.errors.length>0?e?e&&j&&j(e.response.data.errors[0].message):console.warn(e.response.data.errors[0]):e.response&&403===e.response.status?t(G()):j(e.response)}))}}},Xt=(s(364),function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||zt.d;return Object(zt.e)(Wt,e,t(Object(zt.a)(Ht)))}());n.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m.a,{store:Xt,children:Object(d.jsx)(H.c,{history:Ae,children:Object(d.jsx)(Gt,{})})})}),document.getElementById("root"))}},[[367,1,2]]]);
//# sourceMappingURL=main.81883128.chunk.js.map